(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{6014:function(e,t){},6015:function(e,t){},6017:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(25),c=(n(65),function(e){var t=e.children;return i.a.createElement("div",null,t)}),o=n(44),s=n(118),u=(n(3),n(130)),l=n.n(u),f=n(56),p=n.n(f),d=n(55);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h={insert:function(e,t,n){var r=e[0],i=e[1],a=e[2];(0,n.changeValue)(t,r,function(e){var t=[].concat(e||[]);return t.splice(i,0,a),t})},move:function(e,t,n){var r=e[0],i=e[1],a=e[2],c=n.changeValue;if(i!==a){c(t,r,function(e){var t=[].concat(e||[]),n=t[i];return t.splice(i,1),t.splice(a,0,n),t});var o=r+"["+i+"]";Object.keys(t.fields).forEach(function(e){if(e.substring(0,o.length)===o){var n=e.substring(o.length),c=o+n,u=t.fields[c];if(i<a)for(var l=i;l<a;l++)s({destKey:r+"["+l+"]"+n,source:t.fields[r+"["+(l+1)+"]"+n]});else for(var f=i;f>a;f--)s({destKey:r+"["+f+"]"+n,source:t.fields[r+"["+(f-1)+"]"+n]});s({destKey:r+"["+a+"]"+n,source:u})}})}function s(e){var n=e.destKey,r=e.source;t.fields[n]=m({},r,{name:n,change:t.fields[n].change,blur:t.fields[n].blur,focus:t.fields[n].focus,lastFieldState:void 0})}},pop:function(e,t,n){var r,i=e[0];return(0,n.changeValue)(t,i,function(e){if(e)return e.length?(r=e[e.length-1],e.slice(0,e.length-1)):[]}),r},push:function(e,t,n){var r=e[0],i=e[1];(0,n.changeValue)(t,r,function(e){return e?[].concat(e,[i]):[i]})},remove:function(e,t,n){var r,i=e[0],a=e[1];return(0,n.changeValue)(t,i,function(e){var t=[].concat(e||[]);return r=t[a],t.splice(a,1),t}),r},shift:function(e,t,n){var r,i=e[0];return(0,n.changeValue)(t,i,function(e){if(e)return e.length?(r=e[0],e.slice(1,e.length)):[]}),r},swap:function(e,t,n){var r=e[0],i=e[1],a=e[2],c=n.changeValue;if(i!==a){c(t,r,function(e){var t=[].concat(e||[]),n=t[i];return t[i]=t[a],t[a]=n,t});var o=r+"["+i+"]",s=r+"["+a+"]";Object.keys(t.fields).forEach(function(e){if(e.substring(0,o.length)===o){var n=e.substring(o.length),r=o+n,i=s+n,a=t.fields[r];u({destKey:r,source:t.fields[i]}),u({destKey:i,source:a})}})}function u(e){var n=e.destKey,r=e.source;t.fields[n]=m({},r,{name:n,change:t.fields[n].change,blur:t.fields[n].blur,focus:t.fields[n].focus,lastFieldState:void 0})}},unshift:function(e,t,n){var r=e[0],i=e[1];(0,n.changeValue)(t,r,function(e){return e?[i].concat(e):[i]})},update:function(e,t,n){var r=e[0],i=e[1],a=e[2];(0,n.changeValue)(t,r,function(e){var t=[].concat(e||[]);return t.splice(i,1,a),t})}};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e,t){var n=e[0],r=e[1],i=t.fields[n];i&&(i.data=v({},i.data,r))},g=n(183),y=n(93);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w={"final-form":y.f,"react-final-form":d.d,"react-final-form-arrays":"2.0.1"},S=y.d.reduce(function(e,t){return e[t]=!0,e},{}),P=function(e){function t(t){var n,r;return E(F(F(n=e.call(this,t)||this)),"isEqual",function(e,t){return"function"!=typeof n.props.isEqual||n.props.isEqual(e,t)}),E(F(F(n)),"subscribe",function(e,t){var r=e.name,i=e.subscription;n.unsubscribe=n.props.reactFinalForm.registerField(r,t,i?O({},i,{length:!0}):S,{getValidator:function(){return n.validate},isEqual:n.isEqual})}),E(F(F(n)),"validate",function(){var e=n.props.validate;if(e){var t=e(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);if(!t||Array.isArray(t))return t;var r=[];return r[y.a]=t,r}}),E(F(F(n)),"bindMutators",function(e){var t=e.name,r=n.props.reactFinalForm;if(r){var i=r.mutators;0,!!(i&&i.push&&i.pop)&&(n.mutators=Object.keys(i).reduce(function(e,n){return e[n]=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i[n].apply(i,[t].concat(r))},e},{}))}}),E(F(F(n)),"notify",function(e){setTimeout(function(){n.mounted&&n.setState({state:e})})}),E(F(F(n)),"forEach",function(e){for(var t=n.props.name,r=n.state.state&&n.state.state.length||0,i=0;i<r;i++)e(t+"["+i+"]",i)}),E(F(F(n)),"map",function(e){for(var t=n.props.name,r=n.state.state&&n.state.state.length||0,i=[],a=0;a<r;a++)i.push(e(t+"["+a+"]",a));return i}),t.reactFinalForm&&n.subscribe(t,function(e){r?n.notify(e):r=e}),n.state={state:r},n.bindMutators(t),n.mounted=!1,n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=e.name,n=e.subscription;(this.props.name!==t||function(e,t,n){return e?!t||n.some(function(n){return e[n]!==t[n]}):!!t}(this.props.subscription,n,y.d))&&this.props.reactFinalForm&&(this.unsubscribe(),this.subscribe(e,this.notify)),this.props.name!==t&&this.bindMutators(e)},n.componentDidMount=function(){this.mounted=!0},n.componentWillUnmount=function(){this.mounted=!1,this.unsubscribe()},n.render=function(){var e=this.props,t=e.name,n=j(e,["name"]),i=this.state.state||{},a=i.length,c={active:i.active,dirty:i.dirty,dirtySinceLastSubmit:i.dirtySinceLastSubmit,error:i.error,initial:i.initial,invalid:i.invalid,pristine:i.pristine,submitError:i.submitError,submitFailed:i.submitFailed,submitSucceeded:i.submitSucceeded,touched:i.touched,valid:i.valid,visited:i.visited},o=O({},c,j(i,["length","active","dirty","dirtySinceLastSubmit","error","initial","invalid","pristine","submitError","submitFailed","submitSucceeded","touched","valid","visited"]));return function(e,t){var n=e.render,i=e.children,a=e.component,c=j(e,["render","children","component"]);return a?Object(r.createElement)(a,O({},c,{children:i})):n?n(O({},c,{children:i})):i(c)}(O({fields:O({name:t,forEach:this.forEach,length:a,map:this.map},this.mutators,o),meta:c},n,{__versions:w}))},t}(r.Component);E(P,"displayName","ReactFinalFormFieldArray("+y.f+")(2.0.1)"),Object(g.polyfill)(P);var V=Object(d.e)(P),k=n(4),K=n.n(k),R=n(163);function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){q(e,t,n[t])})}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.claims,a=e.save,c=e.permissions,o=e.entities,s=e.classes,u=function(e){return a(_({id:t},e))};return i.a.createElement("div",{className:s.root},i.a.createElement(l.a,{className:s.paper},i.a.createElement(d.b,{onSubmit:u,initialValues:{name:n,claims:r},subscription:{},mutators:_({},h,{setFieldData:b}),render:function(e){var t=e.form;return i.a.createElement("form",{autoComplete:"off"},i.a.createElement(p.a,{container:!0,spacing:24},i.a.createElement(p.a,{item:!0,xs:12,sm:6},i.a.createElement(R.d,{name:"name",label:"Role"}),i.a.createElement(R.a,{setFieldData:t.mutators.setFieldData,save:u})),i.a.createElement(p.a,{item:!0,xs:12,sm:6},i.a.createElement(V,{name:"claims"},function(e){return e.fields.map(function(e,t){return i.a.createElement(R.g,{key:t,name:"".concat(e,".right"),label:o.find(function(e){return e.id===r[t].entity}).name,data:c})})}))))}})))}),D=K()(function(e){return{root:{width:"auto",margin:6*e.spacing.unit},paper:{padding:3*e.spacing.unit}}})(A);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=function(e){var t=e.roles,n=e.permissions,a=e.entities,c=e.save,o=e.fetchRoles,u=e.fetchPermissions,l=e.fetchEntities;return Object(r.useEffect)(function(){l()},[]),Object(r.useEffect)(function(){u()},[]),Object(r.useEffect)(function(){o()},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.Helmet,{title:"Manage Roles"}),t.roles.map(function(e){return i.a.createElement(D,M({key:e.id},e,{save:c,permissions:n,entities:a}))}))},x=(n(6014),n(59)),L=n(91),C=n(90),J=n(383),U=n(193),W=n(384),H=Object(o.b)(function(e){return{roles:Object(J.b)(e),entities:Object(U.b)(e),permissions:Object(W.b)(e)}},{fetchRoles:x.f,fetchPermissions:C.e,fetchEntities:L.d,save:x.h})(N),T=(n(6015),function(){return i.a.createElement(a.e,null,i.a.createElement(H,{default:!0}))});t.default=function(){return i.a.createElement(a.e,null,i.a.createElement(c,{default:!0},i.a.createElement(T,{path:"roles/*"})))}}}]);