(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{6281:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(60),o=n(15),i=n(91);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=function(e){return Object(c.b)(function(e){return{me:Object(i.a)(e)}})(function(t){var n=t.me,c=u(t,["me"]),i=n.id,s=n.started,f=c.location.pathname;return Object(r.useEffect)(function(){if(!i&&!s)return Object(o.h)("/signin?return=".concat(f))},[i,s,f]),a.a.createElement(e,l({},c,{me:n}))})};n.d(t,"a",function(){return s})},6453:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),o=n(6281),i=n(118),l=function(e){var t=e.children;return a.a.createElement(i.b,null,t)},u=n(60),s=n(33),f=Object(u.b)(null,{fetch:s.b.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n}),m=n(64),p=n.n(m),b=n(11),d=n(59),v=(n(5),n(9)),O=n.n(v),g=n(540),h=n.n(g),E=n(541),y=n.n(E),j=n(542),P=n.n(j),w=n(237),S=n.n(w),x=n(68),k=n.n(x),C=n(539),N=n.n(C),F=n(6),D=n.n(F);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=function(e){var t=e.id,n=e.remove;return[{label:"Upload Photo",to:"/care/patients/".concat(t,"/photos/add")},{label:"Add a Contact",to:"/care/patients/".concat(t,"/contacts/add")},{label:"Record a Note",to:"/care/patients/".concat(t,"/notes/add")},{label:"Archive",action:function(){return n({id:t})}}]},R=Object(r.memo)(function(e){return a.a.createElement(d.b,A({actions:T(e)},e))});function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var V=function(e){var t=e.isArchived,n=e.handleArchive,r=e.disabled;return a.a.createElement(k.a,{onClick:n,disabled:r},a.a.createElement(N.a,{title:t?"restore patient":"archive patient"},t?a.a.createElement(b.x,null):a.a.createElement(b.f,null)))},z=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(S.a,{"aria-label":"Profile",className:n.avatar,color:"secondary"},a.a.createElement(b.l,null)))},L=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.classes,o=I(e,["id","name","classes"]);return a.a.createElement(h.a,{className:O()(o.isArchived&&r.archived)},a.a.createElement(y.a,{avatar:a.a.createElement(z,{id:t,classes:r}),action:a.a.createElement(R,B({id:t},o)),title:a.a.createElement(c.a,{to:"".concat(t),className:r.link},n)}),a.a.createElement(P.a,{disableActionSpacing:!0},a.a.createElement(V,B({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),J=D()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(L);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var G=Object(r.memo)(function(e){var t=e.profiles,n=W(e,["profiles"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.d,{parts:[{label:"Patients"}],action:a.a.createElement(d.a,{label:"Register",Icon:b.b,to:"register"})}),a.a.createElement(p.a,{container:!0,spacing:24},t.profiles.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(J,U({},e,n)))})))}),M=n(72),Y=n.n(M),q=n(53),H=n(172),K=n(388),Q=n(389),X=n.n(Q),Z=n(305),$=X()(10)(Object(Z.a)({name:[Object(Z.c)()]})),_=D()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.error,n=e.started,r=e.add,c=e.info,o=e.classes,i=Object(K.b)(r,{redirectTo:"/care/patients",onSuccess:function(){return c("The patient has been registered")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.d,{parts:[{label:"Patients",to:".."},{label:"Register"}]}),a.a.createElement(Y.a,{className:o.paper},a.a.createElement(q.b,{onSubmit:i,validate:$,render:function(e){var t=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(H.e,{name:"name",label:"Name",autoFocus:!0})),a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(H.e,{name:"email",label:"Email Address"})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(H.i,{disabled:r||n},"Register Patient"))))}}),t&&a.a.createElement(H.f,t)))})),ee=n(6275);function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){re(e,t,n[t])})}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ce=D()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.pid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=ae(e,["pid","name","disabled","save","classes","children"]),s=function(e){return o(ne({id:t},e))},f=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.d,{parts:[{label:"Patients",to:".."},{label:n}],action:a.a.createElement(R,te({id:t},u))}),a.a.createElement(Y.a,{className:i.paper},a.a.createElement("div",{ref:f,className:i.card},a.a.createElement(q.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:ee.a},validate:$,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:s,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(H.e,{name:"name",label:"Name",autoFocus:!0,disabled:c}),a.a.createElement(H.a,{setFieldData:t.mutators.setFieldData,save:s,container:f}))))}}))),a.a.createElement(d.o,{id:"profile",tabs:[{label:"Notes",to:"notes"},{label:"Contacts",to:"contacts"},{label:"Photos",to:"photos"}],actions:T(ne({id:t},u))}),l)})),oe=n(6271),ie=n.n(oe),le=n(387);function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){se(e,t,n[t])})}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){return e.care.patients.profiles},me=function(e){return e.care.patients.profiles.data},pe=Object(le.a)(me,fe,function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ue({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),be=Object(le.a)(me,fe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return ue({},t,{profiles:ie()(t.ids.map(function(t){return e[t]}))})}),de=Object(u.b)(function(e){return{profiles:be(e)}},{save:s.d.start,remove:s.c.start})(G),ve=n(49);function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Oe(e,t,n[t])})}return e}({},pe(e,t))},{add:s.a.start,info:ve.b})(_),he=Object(u.b)(function(e,t){return pe(e,t)},{save:s.d.start,remove:s.c.start})(ce),Ee=n(45),ye=n(114),je=Object(u.b)(null,{fetch:Ee.b.start,classifiers:ye.a.start})(function(e){var t=e.pid,n=e.fetch,a=e.classifiers,c=e.children;return Object(r.useEffect)(function(){a()},[]),Object(r.useEffect)(function(){t&&n({id:t})},[t]),c}),Pe=n(209),we=n.n(Pe),Se=n(210),xe=n.n(Se),ke=n(173),Ce=n.n(ke),Ne=n(545),Fe=n.n(Ne),De=n(546),Ae=n.n(De),Te=n(390),Re=n.n(Te),Be=n(544),Ie=n.n(Be);function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ze=Object(r.memo)(function(e){return a.a.createElement(d.b,Ve({actions:function(e){var t=e.profile,n=e.contact,r=e.remove;return[{label:"Edit",to:"/manage/members/".concat(t.id,"/contacts/").concat(n.id)},{label:"Delete",action:function(){return r({profile:t,contact:n})}}]}(e)},e))}),Le=Object(r.memo)(function(e){var t=e.text;e.classes;return a.a.createElement(we.a,null,a.a.createElement(xe.a,null,a.a.createElement(Ce.a,{primary:t})))}),Je=Object(r.memo)(function(e){var t=e.profile,n=e.contacts,r=e.data,c=(e.fetch,e.remove),o=e.classes,i=[{name:"classifier",cell:function(e){var t=e.classifier;return{email:a.a.createElement(Re.a,null),phone:a.a.createElement(Ie.a,null),address:a.a.createElement(Fe.a,null),url:a.a.createElement(Ae.a,null)}[t]},width:60,cellProps:{style:{paddingRight:0}}},{name:"value",cell:function(e){var t=e.classifier,n=e.value;return{email:n.email,phone:n.phone,address:"".concat(n.street," ").concat(n.city," ").concat(n.postcode),url:n.url}[t]},cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"actions",cell:function(e){return a.a.createElement(ze,{contact:e,profile:t,remove:c})},width:100,cellProps:{align:"right"}}];return a.a.createElement(Y.a,{className:o.paper},a.a.createElement("div",{className:o.card},0===r.length&&a.a.createElement(Le,{text:n.started?"Loading...":"No contacts"}),r.length>0&&a.a.createElement(d.p,{data:r,columns:i})))}),Ue=D()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{backgroundColor:"#fff"}}})(Je),We={address:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(H.e,{name:"value.street",label:"Street",autoFocus:!0}),a.a.createElement(H.e,{name:"value.city",label:"City"}),a.a.createElement(H.e,{name:"value.postcode",label:"Postcode"}))},email:function(e){return a.a.createElement(H.e,{name:"value.email",label:"Email Address",autoFocus:!0})},phone:function(e){return a.a.createElement(H.e,{name:"value.phone",label:"Phone Number",autoFocus:!0})},url:function(e){return a.a.createElement(H.e,{name:"value.url",label:"URL",autoFocus:!0})}},Ge=X()(10)(Object(Z.a)({value:[Object(Z.c)()]}));function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=D()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.error,r=e.started,c=e.add,o=e.info,i=e.classifiers,l=e.classes,u="/manage/members/".concat(t.id,"/contacts"),s=Object(K.b)(function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Me(e,t,n[t])})}return e}({id:t.id},e))},{redirectTo:u,onSuccess:function(){return o("The contact has been added")}});return a.a.createElement(Y.a,{className:l.paper},a.a.createElement(q.b,{onSubmit:s,initialValues:{classifier:"email"},validate:Ge,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:3},a.a.createElement(H.h,{name:"classifier",label:"Contact Type",data:i})),a.a.createElement(p.a,{item:!0,xs:12,sm:9},a.a.createElement(q.a,{name:"classifier",subscription:{value:!0}},function(e){var t=e.input.value,n=We[t];return a.a.createElement(n,null)})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(H.i,{disabled:n||r},"Add Contact"))))}}),n&&a.a.createElement(H.f,n))}));function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=D()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.contact,r=e.started,c=e.error,o=e.save,i=e.info,l=e.classifiers,u=e.classes,s="/manage/members/".concat(t.id,"/contacts"),f=Object(K.b)(function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qe(e,t,n[t])})}return e}({},e,{profile:t}))},{redirectTo:s,onSuccess:function(){return i("The ".concat(n.classifier," has been updated"))}});return void 0===n?null:a.a.createElement(Y.a,{className:u.paper},a.a.createElement(q.b,{onSubmit:f,initialValues:n,validate:Ge,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:3},a.a.createElement(H.h,{name:"classifier",label:"Contact Type",data:l,disabled:!0})),a.a.createElement(p.a,{item:!0,xs:12,sm:9},a.a.createElement(q.a,{name:"classifier",subscription:{value:!0}},function(e){var t=e.input.value,n=We[t];return a.a.createElement(n,null)})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(H.i,{disabled:n||r},"Save Contact"))))}}),c&&a.a.createElement(H.f,c))})),Ke=n(6276),Qe=n.n(Ke),Xe=function(e){return e.manage.profiles.contacts.contacts.data},Ze=Object(le.a)(Xe,function(e){return e.manage.profiles.contacts.contacts.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?ie()(t.map(function(t){return e[t]})):[]}),$e=Object(le.a)(Xe,function(e,t){return t.cid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t&&Qe()(e,function(e){return e.id===parseInt(t,10)})}),_e=Object(u.b)(function(e,t){return{profile:pe(e,t),data:Ze(e,t),contacts:function(e){return e.manage.profiles.contacts.contacts}(e)}},{fetch:Ee.b.start,remove:Ee.c.start})(Ue),et=Object(le.a)(function(e){return e.manage.profiles.contacts.classifiers.data},function(e){return e.manage.profiles.contacts.classifiers.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return ie()(t.map(function(t){return e[t]}))}),tt=Object(u.b)(function(e,t){return{profile:pe(e,t),classifiers:et(e)}},{add:Ee.a.start,info:ve.b})(Ye),nt=Object(u.b)(function(e,t){return{profile:pe(e,t),contact:$e(e,t),classifiers:et(e)}},{save:Ee.d.start,info:ve.b})(He),rt=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(je,{path:"/"},a.a.createElement(_e,{path:"/"}),a.a.createElement(tt,{path:"add"}),a.a.createElement(nt,{path:":cid"})))},at=n(40),ct=Object(u.b)(null,{fetch:at.b.start})(function(e){var t=e.pid,n=e.fetch,a=e.children;return Object(r.useEffect)(function(){t&&n({id:t})},[t]),a});function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var it=Object(r.memo)(function(e){return a.a.createElement(d.b,ot({actions:function(e){var t=e.profile,n=e.photo,r=e.remove;return[{label:"Edit",to:"/manage/members/".concat(t.id,"/photos/").concat(n.id)},{label:"Delete",action:function(){return r({profile:t,photo:n})}}]}(e)},e))}),lt=Object(r.memo)(function(e){var t=e.text;e.classes;return a.a.createElement(we.a,null,a.a.createElement(xe.a,null,a.a.createElement(Ce.a,{primary:t})))}),ut=Object(r.memo)(function(e){var t=e.profile,n=e.photos,r=e.data,c=e.remove,o=e.classes,i=[{name:"caption",cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"url",cell:function(e){return a.a.createElement("img",{src:e.url,width:"100%"})},cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"actions",cell:function(e){return a.a.createElement(it,{photo:e,profile:t,remove:c})},width:100,cellProps:{align:"right"}}];return a.a.createElement(Y.a,{className:o.paper},a.a.createElement("div",{className:o.card},0===r.length&&a.a.createElement(lt,{text:n.started?"Loading...":"No photos"}),r.length>0&&a.a.createElement(d.p,{data:r,columns:i})))}),st=D()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{backgroundColor:"#fff"}}})(ut),ft=X()(10)(Object(Z.a)({caption:[Object(Z.c)()]}));function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var bt=D()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.error,c=e.started,o=e.add,i=e.info,l=e.classes,u=pt(Object(r.useState)(null),2),s=(u[0],u[1],"/manage/members/".concat(t.id,"/photos")),f=Object(K.b)(function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){mt(e,t,n[t])})}return e}({id:t.id},e))},{redirectTo:s,onSuccess:function(){return i("The photo has been added")}});return a.a.createElement(Y.a,{className:l.paper},a.a.createElement(q.b,{onSubmit:f,validate:ft,render:function(e){var t=e.form,n=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:n,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(H.e,{name:"caption",label:"Caption"})),a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(H.c,{name:"file",form:t})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(H.i,{disabled:r||c},"Add Photo"))))}}),n&&a.a.createElement(H.f,n))}));function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=D()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.photo,r=e.started,c=e.error,o=e.save,i=e.info,l=(e.classifiers,e.classes),u="/manage/members/".concat(t.id,"/photos"),s=Object(K.b)(function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){dt(e,t,n[t])})}return e}({},e,{profile:t}))},{redirectTo:u,onSuccess:function(){return i("The photo has been updated")}});return void 0===n?null:a.a.createElement(Y.a,{className:l.paper},a.a.createElement(q.b,{onSubmit:s,initialValues:contact,validate:ft,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:3},a.a.createElement(H.e,{name:"value",label:"Value"})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(H.i,{disabled:n||r},"Save Photo"))))}}),c&&a.a.createElement(H.f,c))})),Ot=function(e){return e.manage.profiles.photos.photos.data},gt=Object(le.a)(Ot,function(e){return e.manage.profiles.photos.photos.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?ie()(t.map(function(t){return e[t]})):[]}),ht=Object(le.a)(Ot,function(e,t){return t.phid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t&&Qe()(e,function(e){return e.id===parseInt(t,10)})}),Et=function(e){return e.manage.profiles.photos.photos},yt=Object(u.b)(function(e,t){return{profile:pe(e,t),data:gt(e,t),photos:Et(e)}},{fetch:at.b.start,remove:at.c.start})(st);function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jt(e,t,n[t])})}return e}({profile:pe(e,t)},Et)},{add:at.a.start,info:ve.b})(bt);function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wt(e,t,n[t])})}return e}({profile:pe(e,t),photo:ht(e,t)},Et)},{save:at.d.start,info:ve.b})(vt),xt=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(ct,{path:"/"},a.a.createElement(yt,{path:"/"}),a.a.createElement(Pt,{path:"add"}),a.a.createElement(St,{path:":phid"})))},kt=n(52),Ct=Object(u.b)(null,{fetch:kt.c.start})(function(e){var t=e.pid,n=e.fetch,a=e.children;return Object(r.useEffect)(function(){t&&n({id:t})},[t]),a});function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ft=Object(r.memo)(function(e){return a.a.createElement(d.b,Nt({actions:function(e){var t=e.profile,n=e.note,r=e.cancel;return[{label:"Cancel",action:function(){return r({profile:t,note:n})}}]}(e)},e))}),Dt=Object(r.memo)(function(e){var t=e.text;e.classes;return a.a.createElement(we.a,null,a.a.createElement(xe.a,null,a.a.createElement(Ce.a,{primary:t})))}),At=Object(r.memo)(function(e){var t=e.profile,n=e.notes,r=e.data,c=e.cancel,o=e.classes,i=[{name:"text",cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"actions",cell:function(e){return a.a.createElement(Ft,{note:e,profile:t,cancel:c})},width:100,cellProps:{align:"right"}}];return a.a.createElement(Y.a,{className:o.paper},a.a.createElement("div",{className:o.card},0===r.length&&a.a.createElement(Dt,{text:n.started?"Loading...":"No notes"}),r.length>0&&a.a.createElement(d.p,{data:r,columns:i})))}),Tt=D()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{backgroundColor:"#fff"}}})(At),Rt=n(129),Bt=n.n(Rt),It=n(131),Vt=n.n(It),zt=n(130),Lt=n.n(zt),Jt=n(6335),Ut=X()(10)(Object(Z.a)({text:[Object(Z.c)()]}));function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=[{value:"ocean",label:"Ocean",color:"#00B8D9",isFixed:!0},{value:"blue",label:"Blue",color:"#0052CC",isDisabled:!0},{value:"purple",label:"Purple",color:"#5243AA"},{value:"red",label:"Red",color:"#FF5630",isFixed:!0},{value:"orange",label:"Orange",color:"#FF8B00"},{value:"yellow",label:"Yellow",color:"#FFC400"},{value:"green",label:"Green",color:"#36B37E"},{value:"forest",label:"Forest",color:"#00875A"},{value:"slate",label:"Slate",color:"#253858"},{value:"silver",label:"Silver",color:"#666666"}],qt=D()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.error,r=e.started,c=e.add,o=e.info,i=e.classes,l="/manage/members/".concat(t.id,"/notes"),u=Object(K.b)(function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mt(e,t,n[t])})}return e}({id:t.id},e,{tags:(e.tags||[]).map(function(e){return e.value})}))},{redirectTo:l,onSuccess:function(){return o("The note has been recorded")}});return a.a.createElement(Y.a,{className:i.paper},a.a.createElement(q.b,{onSubmit:u,validate:Ut,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12},a.a.createElement(H.e,{name:"text",label:"Enter text",multiline:!0,autoFocus:!0})),a.a.createElement(p.a,{item:!0,xs:12},a.a.createElement(q.a,{name:"tags",type:"select"},function(e){var t=e.input,n=t.name,r=t.onChange,c=(t.value,Gt(t,["name","onChange","value"])),o=e.meta,i=Gt(e,["input","meta"]);return a.a.createElement(Bt.a,{fullWidth:!0,margin:"dense",error:o.touched&&o.error&&!0},a.a.createElement(Lt.a,{htmlFor:n},"Tags"),a.a.createElement(Jt.a,Wt({isMulti:!0,isClearable:!0},i,{id:n,name:n,onChange:r,inputProps:c,options:Yt,autoWidth:!0})),a.a.createElement(Vt.a,null,o.touched&&o.error))})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(H.i,{disabled:n||r},"Record Note"))))}}),n&&a.a.createElement(H.f,n))})),Ht=function(e){return e.manage.profiles.notes.notes.data},Kt=Object(le.a)(Ht,function(e){return e.manage.profiles.notes.notes.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?ie()(t.map(function(t){return e[t]})):[]}),Qt=(Object(le.a)(Ht,function(e,t){return t.nid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&arguments[1];return nid&&Qe()(e,function(e){return e.id===parseInt(nid,10)})}),Object(u.b)(function(e,t){return{profile:pe(e,t),data:Kt(e,t),notes:function(e){return e.manage.profiles.notes.notes}(e)}},{fetch:kt.c.start,cancel:kt.b.start})(Tt)),Xt=Object(u.b)(function(e,t){return{profile:pe(e,t)}},{add:kt.a.start,info:ve.b})(qt),Zt=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(Ct,{path:"/"},a.a.createElement(Qt,{path:"/"}),a.a.createElement(Xt,{path:"add"})))},$t=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(f,{path:"/"},a.a.createElement(de,{path:"/"}),a.a.createElement(ge,{path:"register"}),a.a.createElement(he,{path:":pid"},a.a.createElement(Zt,{path:"notes/*"}),a.a.createElement(xt,{path:"photos/*"}),a.a.createElement(rt,{path:"contacts/*"})),a.a.createElement(c.e,{from:":pid",to:"/care/patients/:pid/notes",noThrow:!0})))};function _t(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var en=Object(r.memo)(function(e){var t=e.rooms;_t(e,["rooms"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.d,{parts:[{label:"Rooms"}],action:a.a.createElement(d.a,{label:"Add",Icon:b.b,to:"add"})}),a.a.createElement(p.a,{container:!0,spacing:24},t.rooms.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4})})))});function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nn(e,t,n[t])})}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rn=function(e){return e.care.rooms.rooms},an=function(e){return e.care.rooms.rooms.data},cn=(Object(le.a)(an,rn,function(e,t){return t.rid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return tn({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),Object(le.a)(an,rn,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return tn({},t,{rooms:ie()(t.ids.map(function(t){return e[t]}))})})),on=Object(u.b)(function(e){return{rooms:cn(e)}})(en),ln=n(115),un=Object(u.b)(null,{fetch:ln.a.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n}),sn=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(un,{path:"/"},a.a.createElement(on,{path:"/"})))},fn=n(116),mn=Object(u.b)(null,{fetch:fn.a.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n});function pn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var bn=Object(r.memo)(function(e){var t=e.notes;pn(e,["notes"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.d,{parts:[{label:"Notes"}],action:a.a.createElement(d.a,{label:"Record",Icon:b.b,to:"add"})}),a.a.createElement(p.a,{container:!0,spacing:24},t.notes.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4})})))});function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vn(e,t,n[t])})}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var On=function(e){return e.care.notes.notes},gn=function(e){return e.care.notes.notes.data},hn=(Object(le.a)(gn,On,function(e,t){return t.nid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return dn({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),Object(le.a)(gn,On,function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;return dn({},e,{notes:ie()(e.ids.map(function(e){return notes[e]}))})})),En=Object(u.b)(function(e){return{notes:hn(e)}})(bn),yn=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(mn,{path:"/"},a.a.createElement(En,{path:"/"})))};t.default=Object(o.a)(function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(l,{path:"/"},a.a.createElement($t,{path:"patients/*"}),a.a.createElement(sn,{path:"rooms/*"}),a.a.createElement(yn,{path:"notes/*"})))})}}]);