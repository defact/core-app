(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{6288:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(56),o=n(15),i=n(87);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=function(e){return Object(c.b)(function(e){return{me:Object(i.a)(e)}})(function(t){var n=t.me,c=u(t,["me"]),i=n.id,s=n.started,m=c.location.pathname;return Object(r.useEffect)(function(){if(!i&&!s)return Object(o.h)("/signin?return=".concat(m))},[i,s,m]),a.a.createElement(e,l({},c,{me:n}))})};n.d(t,"a",function(){return s})},6440:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),o=n(6288),i=n(110),l=function(e){var t=e.children;return a.a.createElement(i.b,null,t)},u=n(56),s=n(16),m=Object(u.b)(null,{fetch:s.b.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n}),f=n(192),b=n(60),p=n.n(b),d=n(33),g=n(13),v=n(55),O=(n(3),n(8)),E=n.n(O),h=n(530),y=n.n(h),j=n(531),w=n.n(j),P=n(532),S=n.n(P),x=n(230),k=n.n(x),N=n(65),C=n.n(N),D=n(529),F=n.n(D),A=n(4),R=n.n(A);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=Object(r.memo)(function(e){return a.a.createElement(v.b,T({actions:function(e){var t=e.id,n=e.reset,r=e.remove;return[{label:"Reset Password",action:function(){return n({id:t})}},{label:"Change Password",to:"/manage/users/".concat(t,"/password")},{label:"Add Member",to:"/manage/users/".concat(t,"/members/add")},{label:"Archive",action:function(){return r({id:t})}}]}(e)},e))});function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var V=function(e){var t=e.isLocked,n=e.handleLock,r=e.disabled;return a.a.createElement(C.a,{onClick:n,disabled:r},a.a.createElement(F.a,{title:t?"unlock user":"lock user"},t?a.a.createElement(g.p,null):a.a.createElement(g.q,null)))},U=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(k.a,{"aria-label":"User",className:n.avatar,color:"secondary"},a.a.createElement(g.h,null)))},G=function(e){var t=e.classes,n=e.isVerified;return a.a.createElement("span",{className:E()(!n&&t.unverified,t.verified)},n?null:"unverified")},M=Object(r.memo)(function(e){var t=e.id,n=e.email,r=e.lock,o=e.classes,i=L(e,["id","email","lock","classes"]);return a.a.createElement(y.a,{className:E()(i.isLocked&&o.locked)},a.a.createElement(w.a,{avatar:a.a.createElement(U,{id:t,classes:o}),action:a.a.createElement(B,I({id:t},i)),title:a.a.createElement(c.a,{to:"".concat(t),className:o.link},n,a.a.createElement(G,{classes:o,isVerified:i.isVerified}))}),a.a.createElement(S.a,{disableActionSpacing:!0},a.a.createElement(V,I({handleLock:function(){return!i.disabled&&r({id:t})}},i))))}),z=R()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},locked:{opacity:.5},verified:{paddingLeft:e.spacing.unit},unverified:{color:e.palette.error.main},link:{textDecoration:"none",color:"inherit"}}})(M);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Q={email:"Email"},_=Object(d.withTheme)()(function(e){var t=e.filter,n=e.sort,r=e.asc,c=e.desc,o=e.theme,i=Object(f.unstable_useMediaQuery)(o.breakpoints.down("xs"))?"flex-start":"flex-end";return a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:8},a.a.createElement(v.g,{filter:t,property:"email",label:"Search users"})),a.a.createElement(p.a,{item:!0,container:!0,xs:12,sm:4,justify:i},a.a.createElement(v.n,{id:"users",sort:n,asc:r,desc:c,properties:Q})))}),H=Object(r.memo)(function(e){var t=e.users,n=q(e,["users"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Users"}],action:a.a.createElement(v.a,{label:"Register",Icon:g.b,to:"register"})}),a.a.createElement(_,J({sort:t.sort},n)),a.a.createElement(p.a,{container:!0,spacing:24},t.users.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(z,J({},e,n)))})))}),K=n(68),W=n.n(K),X=n(49),Y=n(165),Z=n(382),$=n(381),ee=n.n($),te=n(298),ne=ee()(10)(Object(te.a)({email:[Object(te.c)(),Object(te.b)()]})),re=R()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.error,n=e.started,r=e.add,c=e.info,o=e.classes,i=Object(Z.b)(r,{redirectTo:"/manage/users",onSuccess:function(){return c("The user has been registered")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Users",to:".."},{label:"Register"}]}),a.a.createElement(W.a,{className:o.paper},a.a.createElement(X.b,{onSubmit:i,validate:ne,render:function(e){var t=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12},a.a.createElement(Y.e,{name:"email",label:"Email Address",autoFocus:!0})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(Y.i,{disabled:r||n},"Register User"))))}}),t&&a.a.createElement(Y.f,t)))})),ae=n(6268);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var le=Object(r.memo)(function(e){var t=e.uid,n=e.email,c=e.save,o=e.classes,i=e.children,l=ie(e,["uid","email","save","classes","children"]),u=function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){oe(e,t,n[t])})}return e}({id:t},e))},s=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Users",to:".."},{label:n}],action:a.a.createElement(B,ce({id:t},l))}),a.a.createElement(W.a,{className:o.paper},a.a.createElement("div",{ref:s,className:o.card},a.a.createElement(X.b,{onSubmit:u,initialValues:{email:n},subscription:{},mutators:{setFieldData:ae.a},validate:ne,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:u,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.e,{name:"email",label:"Email Address",autoFocus:!0,disabled:l.disabled}),a.a.createElement(Y.a,{setFieldData:t.mutators.setFieldData,save:u,container:s}))))}}))),a.a.createElement(v.o,{selected:l["*"],tabs:[{label:"Roles",to:"roles"},{label:"Members",to:"members"}]}),i)}),ue=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(le),se=ee()(10)(Object(te.a)({password:[Object(te.c)()]})),me=Object(r.memo)(function(e){var t=e.user,n=e.save,r=e.started,c=e.error,o=e.classes;return a.a.createElement(W.a,{className:o.paper},a.a.createElement("div",{className:o.card},a.a.createElement(X.b,{onSubmit:function(e){return!t.disabled&&n(e)},validate:se,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{className:o.form,onSubmit:t},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:9},a.a.createElement(Y.g,{autoFocus:!0}),a.a.createElement(Y.i,{disabled:n||r},"Change Password"))))}}),c&&a.a.createElement(Y.f,c)))}),fe=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit},form:{width:"100%"}}})(me),be=n(6264),pe=n.n(be),de=n(380),ge=n(6333),ve=n.n(ge),Oe=n(6334),Ee=Object(de.a)(function(e){return e.manage.roles.claims.entities.data},function(e){return e.manage.roles.claims.entities.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return pe()(t.map(function(t){return e[t]}))});function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ye(e,t,n[t])})}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{claims:[]},n=e.map(function(e){var n=t.claims.find(function(t){return t.entity===e.id});return void 0===n?{entity:e.id,right:0}:n});return he({},t,{claims:n})},we=function(e){return e.manage.roles.roles},Pe=function(e){return e.manage.roles.roles.data},Se=Object(de.a)(Pe,we,function(e,t){return t.rid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return he({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),xe=Object(de.a)(Pe,Ee,we,function(e,t){return t.rid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return he({},n,je(t,r&&e[r]))}),ke=Object(de.a)(Pe,we,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return he({},t,{roles:pe()(t.ids.map(function(t){return e[t]}))})});Object(de.a)(Pe,Ee,we,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return he({},n,{roles:function(e,t){return e.map(function(e){return je(t,e)}).sort(function(e){return function(t,n){var r=t[e].toUpperCase(),a=n[e].toUpperCase();return r>a?1:r<a?-1:0}}("name"))}(pe()(n.ids.map(function(t){return e[t]})),t)})});function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ce(e,t,n[t])})}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){return function(t,n,r,a){if(null!==n){var c=ve()(n.value.trim()).toLowerCase();t=t.filter(function(e){return e[n.property].slice(0,c.length).toLowerCase()===c})}return t.sort(function(e){var t=e.property,n=e.ascending;return{string:function(e,r){return n?e[t].localeCompare(r[t]):r[t].localeCompare(e[t])},number:function(e,r){return n?e[t]-r[t]:r[t]-e[t]},date:function(e,r){return n?Object(Oe.compareAsc)(e[t],r[t]):Object(Oe.compareDesc)(e[t],r[t])},boolean:function(e,t){return n?e===t?0:e?-1:1:e===t?0:e?1:-1}}}(a)[e[a.property]])}}({email:"string"}),Fe=function(e){return e.manage.users.users},Ae=function(e){return e.manage.users.users.data},Re=Object(de.a)(Ae,Fe,function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ne({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),Te=Object(de.a)(Ae,ke,Fe,function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Ne({},n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{roles:[]};return Ne({},t,{roles:e.map(function(e){var n=void 0!==t.roles.find(function(t){return t===e.id});return Ne({},e,{has:n})})})}(t.roles,e[r]))}),Be=Object(de.a)(Ae,function(e){return e.manage.users.users.filter},function(e){return e.manage.users.users.page},function(e){return e.manage.users.users.sort},Fe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return Ne({},a,{sort:r,users:De(pe()(a.ids.map(function(t){return e[t]})),t,n,r)})}),Ie={save:s.i.start,lock:s.d.start,reset:s.h.start,remove:s.g.start,asc:s.j.asc,desc:s.j.desc,filter:s.c,page:s.e},Le=Object(u.b)(function(e){return{users:Be(e)}},Ie)(H),Ve=n(48);function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ue(e,t,n[t])})}return e}({},Re(e,t))},{add:s.a.start,info:Ve.b})(re),Me={save:s.i.start,reset:s.h.start,remove:s.g.start},ze=Object(u.b)(function(e,t){return Re(e,t)},Me)(ue),Je=Object(u.b)(function(e,t){return{user:Re(e,t)}},{save:s.f.start})(fe),qe=n(202),Qe=n.n(qe),_e=n(203),He=n.n(_e),Ke=n(166),We=n.n(Ke),Xe=Object(r.memo)(function(e){var t=e.text;return a.a.createElement(He.a,null,a.a.createElement(We.a,{primary:t}))}),Ye=Object(r.memo)(function(e){var t=e.to,n=e.primary;return a.a.createElement(He.a,{button:!0,component:c.a,to:t},a.a.createElement(We.a,{primary:n}))}),Ze=Object(r.memo)(function(e){var t=e.profiles,n=e.data,r=e.classes;return a.a.createElement(W.a,{className:r.paper},a.a.createElement("div",{className:r.card},a.a.createElement(Qe.a,{className:r.root},0===n.length&&a.a.createElement(Xe,{text:t.started?"Loading...":"No profiles"}),n.map(function(e){return a.a.createElement(Ye,{key:e.id,to:"../../../members/".concat(e.id,"/users"),primary:e.name})}))))}),$e=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(Ze),et=Object(de.a)(function(e){return e.manage.profiles.profiles.data},function(e){return e.manage.users.profiles.ids},function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?pe()(t.map(function(t){return e[t]})):[]}),tt=Object(u.b)(function(e,t){return{user:Re(e,t),profiles:function(e){return e.manage.profiles.profiles}(e),data:et(e,t)}})($e),nt=n(104),rt=Object(u.b)(null,{fetch:nt.a.start})(function(e){var t=e.uid,n=e.fetch,a=e.children;return Object(r.useEffect)(function(){t&&n({id:t})},[t]),a}),at=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(rt,{path:"/"},a.a.createElement(tt,{path:"/"})))},ct=n(255),ot=n.n(ct),it=Object(r.memo)(function(e){var t=e.user,n=e.save,r=e.classes;return a.a.createElement(W.a,{className:r.paper},a.a.createElement("div",{className:r.card},a.a.createElement(Qe.a,{className:r.root},t.roles.map(function(e){return a.a.createElement(He.a,{key:e.id,role:e.name,button:!t.disabled,onClick:function(){return function(e){return!t.disabled&&n({role:e,user:t})}(e)}},a.a.createElement(ot.a,{checked:e.has,disableRipple:!0,disabled:t.disabled}),a.a.createElement(We.a,{primary:e.name}))}))))}),lt=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(it),ut=n(376),st=Object(u.b)(function(e,t){return{user:Te(e,t),roles:ke(e)}},{save:ut.a.start})(lt),mt=n(28),ft=Object(u.b)(null,{fetch:mt.b.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n}),bt=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(ft,{path:"/"},a.a.createElement(st,{path:"/"})))},pt=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(m,{path:"/"},a.a.createElement(Le,{path:"/"}),a.a.createElement(Ge,{path:"register"}),a.a.createElement(ze,{path:":uid"},a.a.createElement(bt,{path:"roles/*"}),a.a.createElement(at,{path:"members/*"}),a.a.createElement(Je,{path:"password"})),a.a.createElement(c.e,{from:":uid",to:"/manage/users/:uid/roles",noThrow:!0})))},dt=n(106),gt=n(105),vt=Object(u.b)(null,{fetch:mt.b.start,permissions:gt.a.start,entities:dt.a.start})(function(e){var t=e.fetch,n=e.permissions,a=e.entities,c=e.children;return Object(r.useEffect)(function(){n()},[]),Object(r.useEffect)(function(){a()},[]),Object(r.useEffect)(function(){t()},[]),c});function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ht=function(e){var t=e.isArchived,n=e.handleArchive,r=e.disabled;return a.a.createElement(C.a,{onClick:n,disabled:r},a.a.createElement(F.a,{title:t?"restore role":"archive role"},t?a.a.createElement(g.u,null):a.a.createElement(g.f,null)))},yt=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(k.a,{"aria-label":"Role",className:n.avatar,color:"secondary"},a.a.createElement(g.w,null)))},jt=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.classes,o=Et(e,["id","name","classes"]);return a.a.createElement(y.a,{className:E()(o.isArchived&&r.archived)},a.a.createElement(w.a,{avatar:a.a.createElement(yt,{id:t,classes:r}),title:a.a.createElement(c.a,{to:"".concat(t),className:r.link},n)}),a.a.createElement(S.a,{disableActionSpacing:!0},a.a.createElement(ht,Ot({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),wt=R()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(jt);function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function St(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xt=Object(r.memo)(function(e){var t=e.roles,n=St(e,["roles"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Roles"}],action:a.a.createElement(v.a,{label:"Add Role",Icon:g.b,to:"add"})}),a.a.createElement(p.a,{container:!0,spacing:24},t.roles.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(wt,Pt({},e,n)))})))}),kt=n(6324),Nt=n(6325),Ct=ee()(10)(Object(te.a)({name:[Object(te.c)()]}));function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=R()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.claims,n=e.error,r=e.started,c=e.entities,o=e.permissions,i=e.add,l=e.info,u=e.classes,s=Object(Z.b)(i,{redirectTo:"/manage/roles",onSuccess:function(){return l("The role has been added")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Roles",to:".."},{label:"Add"}]}),a.a.createElement(W.a,{className:u.paper},a.a.createElement(X.b,{onSubmit:s,validate:Ct,initialValues:{claims:t},mutators:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dt(e,t,n[t])})}return e}({},kt.a),render:function(e){var n=e.handleSubmit,i=e.pristine;return a.a.createElement("form",{onSubmit:n,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.e,{name:"name",label:"Role Name",autoFocus:!0})),a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Nt.a,{name:"claims"},function(e){return e.fields.map(function(e,n){return a.a.createElement(Y.h,{key:n,name:"".concat(e,".right"),label:c.find(function(e){return e.id===t[n].entity}).name,data:o})})})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(Y.i,{disabled:i||r},"Add Role"))))}}),n&&a.a.createElement(Y.f,n)))}));function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Tt=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.rid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=Rt(e,["rid","name","disabled","save","classes","children"]),s=function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){At(e,t,n[t])})}return e}({id:t},e))},m=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Roles",to:".."},{label:n}]}),a.a.createElement(W.a,{className:i.paper},a.a.createElement("div",{ref:m,className:i.card},a.a.createElement(X.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:ae.a},validate:Ct,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:s,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.e,{name:"name",label:"Role Name",autoFocus:!0,disabled:c}),a.a.createElement(Y.a,{setFieldData:t.mutators.setFieldData,save:s,container:m}))))}}))),a.a.createElement(v.o,{selected:u["*"],tabs:[{label:"Claims",to:"claims"}]}),l)})),Bt=Object(u.b)(function(e){return{roles:ke(e)}},{save:mt.d.start,remove:mt.c.start})(xt),It=Object(de.a)(function(e){return e.manage.roles.claims.permissions.data},function(e){return e.manage.roles.claims.permissions.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return pe()(t.map(function(t){return e[t]}))});function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lt(e,t,n[t])})}return e}({},xe(e,t),{entities:Ee(e),permissions:It(e)})},{add:mt.a.start,info:Ve.b})(Ft),Ut=Object(u.b)(function(e,t){return Se(e,t)},{save:mt.d.start,remove:mt.c.start})(Tt);function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mt(e,t,n[t])})}return e}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zt=Object(r.memo)(function(e){var t=e.role,n=e.save,c=e.permissions,o=e.entities,i=e.classes,l=function(e){return!t.disabled&&n(Gt({},t,e))},u=Object(r.createRef)();if(0!==t.claims.length)return a.a.createElement(W.a,{className:i.paper},a.a.createElement("div",{ref:u,className:i.card},a.a.createElement(X.b,{onSubmit:l,initialValues:{claims:t.claims},subscription:{},mutators:Gt({},kt.a,{setFieldData:ae.a}),render:function(e){var n=e.form;return a.a.createElement("form",{autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.a,{setFieldData:n.mutators.setFieldData,save:l,container:u}),a.a.createElement(Nt.a,{name:"claims"},function(e){return e.fields.map(function(e,n){return a.a.createElement(Y.h,{key:n,disabled:t.disabled,name:"".concat(e,".right"),label:o.find(function(e){return e.id===t.claims[n].entity}).name,data:c})})}))))}})))}),Jt=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(zt),qt=Object(u.b)(function(e,t){return{role:xe(e,t),entities:Ee(e),permissions:It(e)}},{save:mt.d.start})(Jt),Qt=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(qt,{path:"/"}))},_t=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(vt,{path:"/"},a.a.createElement(Bt,{path:"/"}),a.a.createElement(Vt,{path:"add"}),a.a.createElement(Ut,{path:":rid"},a.a.createElement(Qt,{path:"claims/*"})),a.a.createElement(c.e,{from:":rid",to:"/manage/roles/:rid/claims",noThrow:!0})))},Ht=n(29),Kt=Object(u.b)(null,{fetch:Ht.b.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n});function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xt=Object(r.memo)(function(e){return a.a.createElement(v.b,Wt({actions:function(e){var t=e.id,n=e.remove;return[{label:"Add Child Group",to:"/manage/groups/".concat(t,"/groups/add")},{label:"Upload Photo",to:"/manage/groups/".concat(t,"/photos/upload")},{label:"Archive",action:function(){return n({id:t})}}]}(e)},e))});function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var $t=function(e){var t=e.isArchived,n=e.handleArchive,r=e.disabled;return a.a.createElement(C.a,{onClick:n,disabled:r},a.a.createElement(F.a,{title:t?"restore group":"archive group"},t?a.a.createElement(g.u,null):a.a.createElement(g.f,null)))},en=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(k.a,{"aria-label":"Group",className:n.avatar,color:"secondary"},a.a.createElement(g.x,null)))},tn=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.classes,o=Zt(e,["id","name","classes"]);return a.a.createElement(y.a,{className:E()(o.isArchived&&r.archived)},a.a.createElement(w.a,{avatar:a.a.createElement(en,{id:t,classes:r}),action:a.a.createElement(Xt,Yt({id:t},o)),title:a.a.createElement(c.a,{to:"".concat(t),className:r.link},n)}),a.a.createElement(S.a,{disableActionSpacing:!0},a.a.createElement($t,Yt({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),nn=R()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(tn);function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function an(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var cn=Object(r.memo)(function(e){var t=e.groups,n=an(e,["groups"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Groups"}],action:a.a.createElement(v.a,{label:"Add Group",Icon:g.b,to:"add"})}),a.a.createElement(p.a,{container:!0,spacing:24},t.groups.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(nn,rn({},e,n)))})))}),on=ee()(10)(Object(te.a)({name:[Object(te.c)()]})),ln=R()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.error,n=e.started,r=e.add,c=e.info,o=e.classes,i=Object(Z.b)(r,{redirectTo:"/manage/groups",onSuccess:function(){return c("The group has been added")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Groups",to:".."},{label:"Add Group"}]}),a.a.createElement(W.a,{className:o.paper},a.a.createElement(X.b,{onSubmit:i,validate:on,render:function(e){var t=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.e,{name:"name",label:"Group Name",autoFocus:!0})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(Y.i,{disabled:r||n},"Add Group"))))}}),t&&a.a.createElement(Y.f,t)))}));function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var mn=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.gid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=sn(e,["gid","name","disabled","save","classes","children"]),s=function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){un(e,t,n[t])})}return e}({id:t},e))},m=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Groups",to:".."},{label:n}],action:a.a.createElement(Xt,{id:t})}),a.a.createElement(W.a,{className:i.paper},a.a.createElement("div",{ref:m,className:i.card},a.a.createElement(X.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:ae.a},validate:on,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:s,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.e,{name:"name",label:"Group Name",autoFocus:!0,disabled:c}),a.a.createElement(Y.a,{setFieldData:t.mutators.setFieldData,save:s,container:m}))))}}))),a.a.createElement(v.o,{selected:u["*"],tabs:[{label:"Children",to:"groups"}]}),l)}));function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){bn(e,t,n[t])})}return e}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pn=function(e){return e.manage.groups.groups},dn=function(e){return e.manage.groups.groups.data},gn=Object(de.a)(dn,pn,function(e,t){return t.gid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=e[n];return void 0===r?fn({},t):fn({},t,r,{groups:r.groups.map(function(t){return e[t]})})}),vn=Object(de.a)(dn,pn,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return fn({},t,{groups:pe()(t.ids.map(function(t){return e[t]}))})}),On=Object(u.b)(function(e){return{groups:vn(e)}},{save:Ht.d.start,remove:Ht.c.start})(cn);function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){En(e,t,n[t])})}return e}({},gn(e,t))},{add:Ht.a.start,info:Ve.b})(ln),yn=Object(u.b)(function(e,t){return gn(e,t)},{save:Ht.d.start,remove:Ht.c.start})(mn),jn=Object(r.memo)(function(e){var t=e.primary;return a.a.createElement(He.a,null,a.a.createElement(We.a,{primary:t}))}),wn=Object(r.memo)(function(e){var t=e.to,n=e.primary;return a.a.createElement(He.a,{button:!0,component:c.a,to:t},a.a.createElement(We.a,{primary:n}))}),Pn=Object(r.memo)(function(e){var t=e.group,n=e.classes,r=t.groups;if(void 0!==r)return a.a.createElement(W.a,{className:n.paper},a.a.createElement("div",{className:n.card},a.a.createElement(Qe.a,{className:n.root},0===r.length&&a.a.createElement(jn,{primary:"No children"}),r.map(function(e){return a.a.createElement(wn,{key:e.id,to:"../../".concat(e.id),primary:e.name})}))))}),Sn=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(Pn),xn=Object(u.b)(function(e,t){return{group:gn(e,t)}})(Sn),kn=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(xn,{path:"/"}))},Nn=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(Kt,{path:"/"},a.a.createElement(On,{path:"/"}),a.a.createElement(hn,{path:"add"}),a.a.createElement(yn,{path:":gid"},a.a.createElement(kn,{path:"groups/*"})),a.a.createElement(c.e,{from:":gid",to:"/manage/groups/:gid/groups",noThrow:!0})))},Cn=n(30),Dn=Object(u.b)(null,{fetch:Cn.b.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n});function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var An=function(e){var t=e.id,n=e.remove;return[{label:"Add User",to:"/manage/members/".concat(t,"/users/add")},{label:"Upload Photo",to:"/manage/members/".concat(t,"/photos/add")},{label:"Add a Contact",to:"/manage/members/".concat(t,"/contacts/add")},{label:"Record a Note",to:"/manage/members/".concat(t,"/notes/add")},{label:"Archive",action:function(){return n({id:t})}}]},Rn=Object(r.memo)(function(e){return a.a.createElement(v.b,Fn({actions:An(e)},e))});function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var In=function(e){var t=e.isArchived,n=e.handleArchive,r=e.disabled;return a.a.createElement(C.a,{onClick:n,disabled:r},a.a.createElement(F.a,{title:t?"restore member":"archive member"},t?a.a.createElement(g.u,null):a.a.createElement(g.f,null)))},Ln=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(k.a,{"aria-label":"Profile",className:n.avatar,color:"secondary"},a.a.createElement(g.l,null)))},Vn=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.classes,o=Bn(e,["id","name","classes"]);return a.a.createElement(y.a,{className:E()(o.isArchived&&r.archived)},a.a.createElement(w.a,{avatar:a.a.createElement(Ln,{id:t,classes:r}),action:a.a.createElement(Rn,Tn({id:t},o)),title:a.a.createElement(c.a,{to:"".concat(t),className:r.link},n)}),a.a.createElement(S.a,{disableActionSpacing:!0},a.a.createElement(In,Tn({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),Un=R()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(Vn);function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var zn=Object(r.memo)(function(e){var t=e.profiles,n=Mn(e,["profiles"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Members"}],action:a.a.createElement(v.a,{label:"Register",Icon:g.b,to:"register"})}),a.a.createElement(p.a,{container:!0,spacing:24},t.profiles.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(Un,Gn({},e,n)))})))}),Jn=ee()(10)(Object(te.a)({name:[Object(te.c)()]})),qn=R()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.error,n=e.started,r=e.add,c=e.info,o=e.classes,i=Object(Z.b)(r,{redirectTo:"/manage/members",onSuccess:function(){return c("The member has been registered")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Members",to:".."},{label:"Register"}]}),a.a.createElement(W.a,{className:o.paper},a.a.createElement(X.b,{onSubmit:i,validate:Jn,render:function(e){var t=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.e,{name:"name",label:"Name",autoFocus:!0})),a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.e,{name:"email",label:"Email Address"})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(Y.i,{disabled:r||n},"Register Member"))))}}),t&&a.a.createElement(Y.f,t)))}));function Qn(){return(Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Hn(e,t,n[t])})}return e}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Wn=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.pid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=Kn(e,["pid","name","disabled","save","classes","children"]),s=function(e){return o(_n({id:t},e))},m=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Members",to:".."},{label:n}],action:a.a.createElement(Rn,Qn({id:t},u))}),a.a.createElement(W.a,{className:i.paper},a.a.createElement("div",{ref:m,className:i.card},a.a.createElement(X.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:ae.a},validate:Jn,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:s,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.e,{name:"name",label:"Name",autoFocus:!0,disabled:c}),a.a.createElement(Y.a,{setFieldData:t.mutators.setFieldData,save:s,container:m}))))}}))),a.a.createElement(v.o,{id:"profile",tabs:[{label:"Users",to:"users"},{label:"Photos",to:"photos"},{label:"Contacts",to:"contacts"},{label:"Notes",to:"notes"}],actions:An(_n({id:t},u))}),l)}));function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yn(e,t,n[t])})}return e}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zn=function(e){return e.manage.profiles.profiles},$n=function(e){return e.manage.profiles.profiles.data},er=Object(de.a)($n,Zn,function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Xn({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),tr=Object(de.a)($n,Zn,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Xn({},t,{profiles:pe()(t.ids.map(function(t){return e[t]}))})}),nr=Object(u.b)(function(e){return{profiles:tr(e)}},{save:Cn.d.start,remove:Cn.c.start})(zn);function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ar=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rr(e,t,n[t])})}return e}({},er(e,t))},{add:Cn.a.start,info:Ve.b})(qn),cr=Object(u.b)(function(e,t){return er(e,t)},{save:Cn.d.start,remove:Cn.c.start})(Wn),or=n(107),ir=Object(u.b)(null,{fetch:or.a.start})(function(e){var t=e.pid,n=e.fetch,a=e.children;return Object(r.useEffect)(function(){t&&n({id:t})},[t]),a}),lr=Object(r.memo)(function(e){var t=e.text;return a.a.createElement(He.a,null,a.a.createElement(We.a,{primary:t}))}),ur=Object(r.memo)(function(e){var t=e.to,n=e.primary;return a.a.createElement(He.a,{button:!0,component:c.a,to:t},a.a.createElement(We.a,{primary:n}))}),sr=Object(r.memo)(function(e){var t=e.users,n=e.data,r=e.classes;return a.a.createElement(W.a,{className:r.paper},a.a.createElement("div",{className:r.card},a.a.createElement(Qe.a,null,0===n.length&&a.a.createElement(lr,{text:t.started?"Loading...":"No users"}),n.map(function(e){return a.a.createElement(ur,{key:e.id,to:"../../../users/".concat(e.id,"/members"),primary:e.email})}))))}),mr=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(sr),fr=Object(de.a)(function(e){return e.manage.users.users.data},function(e){return e.manage.profiles.users.users.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?pe()(t.map(function(t){return e[t]})):[]}),br=Object(u.b)(function(e,t){return{profile:er(e,t),users:function(e){return e.manage.users.users}(e),data:fr(e,t)}})(mr),pr=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(ir,{path:"/"},a.a.createElement(br,{path:"/"})))},dr=n(42),gr=n(108),vr=Object(u.b)(null,{fetch:dr.b.start,classifiers:gr.a.start})(function(e){var t=e.pid,n=e.fetch,a=e.classifiers,c=e.children;return Object(r.useEffect)(function(){a()},[]),Object(r.useEffect)(function(){t&&n({id:t})},[t]),c}),Or=n(536),Er=n.n(Or),hr=n(537),yr=n.n(hr),jr=n(383),wr=n.n(jr),Pr=n(535),Sr=n.n(Pr);function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var kr=Object(r.memo)(function(e){return a.a.createElement(v.b,xr({actions:function(e){var t=e.profile,n=e.contact,r=e.remove;return[{label:"Edit",to:"/manage/members/".concat(t.id,"/contacts/").concat(n.id)},{label:"Delete",action:function(){return r({profile:t,contact:n})}}]}(e)},e))}),Nr=Object(r.memo)(function(e){var t=e.text;e.classes;return a.a.createElement(Qe.a,null,a.a.createElement(He.a,null,a.a.createElement(We.a,{primary:t})))}),Cr=Object(r.memo)(function(e){var t=e.profile,n=e.contacts,r=e.data,c=(e.fetch,e.remove),o=e.classes,i=[{name:"classifier",cell:function(e){var t=e.classifier;return{email:a.a.createElement(wr.a,null),phone:a.a.createElement(Sr.a,null),address:a.a.createElement(Er.a,null),url:a.a.createElement(yr.a,null)}[t]},width:60,cellProps:{style:{paddingRight:0}}},{name:"value",cell:function(e){var t=e.classifier,n=e.value;return{email:n.email,phone:n.phone,address:"".concat(n.street," ").concat(n.city," ").concat(n.postcode),url:n.url}[t]},cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"actions",cell:function(e){return a.a.createElement(kr,{contact:e,profile:t,remove:c})},width:100,cellProps:{align:"right"}}];return a.a.createElement(W.a,{className:o.paper},a.a.createElement("div",{className:o.card},0===r.length&&a.a.createElement(Nr,{text:n.started?"Loading...":"No contacts"}),r.length>0&&a.a.createElement(v.p,{data:r,columns:i})))}),Dr=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{backgroundColor:"#fff"}}})(Cr),Fr={address:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y.e,{name:"value.street",label:"Street",autoFocus:!0}),a.a.createElement(Y.e,{name:"value.city",label:"City"}),a.a.createElement(Y.e,{name:"value.postcode",label:"Postcode"}))},email:function(e){return a.a.createElement(Y.e,{name:"value.email",label:"Email Address",autoFocus:!0})},phone:function(e){return a.a.createElement(Y.e,{name:"value.phone",label:"Phone Number",autoFocus:!0})},url:function(e){return a.a.createElement(Y.e,{name:"value.url",label:"URL",autoFocus:!0})}},Ar=ee()(10)(Object(te.a)({value:[Object(te.c)()]}));function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=R()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.error,r=e.started,c=e.add,o=e.info,i=e.classifiers,l=e.classes,u="/manage/members/".concat(t.id,"/contacts"),s=Object(Z.b)(function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rr(e,t,n[t])})}return e}({id:t.id},e))},{redirectTo:u,onSuccess:function(){return o("The contact has been added")}});return a.a.createElement(W.a,{className:l.paper},a.a.createElement(X.b,{onSubmit:s,initialValues:{classifier:"email"},validate:Ar,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:3},a.a.createElement(Y.h,{name:"classifier",label:"Contact Type",data:i})),a.a.createElement(p.a,{item:!0,xs:12,sm:9},a.a.createElement(X.a,{name:"classifier",subscription:{value:!0}},function(e){var t=e.input.value,n=Fr[t];return a.a.createElement(n,null)})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(Y.i,{disabled:n||r},"Add Contact"))))}}),n&&a.a.createElement(Y.f,n))}));function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ir=R()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.contact,r=e.started,c=e.error,o=e.save,i=e.info,l=e.classifiers,u=e.classes,s="/manage/members/".concat(t.id,"/contacts"),m=Object(Z.b)(function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Br(e,t,n[t])})}return e}({},e,{profile:t}))},{redirectTo:s,onSuccess:function(){return i("The ".concat(n.classifier," has been updated"))}});return void 0===n?null:a.a.createElement(W.a,{className:u.paper},a.a.createElement(X.b,{onSubmit:m,initialValues:n,validate:Ar,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:3},a.a.createElement(Y.h,{name:"classifier",label:"Contact Type",data:l,disabled:!0})),a.a.createElement(p.a,{item:!0,xs:12,sm:9},a.a.createElement(X.a,{name:"classifier",subscription:{value:!0}},function(e){var t=e.input.value,n=Fr[t];return a.a.createElement(n,null)})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(Y.i,{disabled:n||r},"Save Contact"))))}}),c&&a.a.createElement(Y.f,c))})),Lr=n(6287),Vr=n.n(Lr),Ur=function(e){return e.manage.profiles.contacts.contacts.data},Gr=Object(de.a)(Ur,function(e){return e.manage.profiles.contacts.contacts.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?pe()(t.map(function(t){return e[t]})):[]}),Mr=Object(de.a)(Ur,function(e,t){return t.cid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t&&Vr()(e,function(e){return e.id===parseInt(t,10)})}),zr=Object(u.b)(function(e,t){return{profile:er(e,t),data:Gr(e,t),contacts:function(e){return e.manage.profiles.contacts.contacts}(e)}},{fetch:dr.b.start,remove:dr.c.start})(Dr),Jr=Object(de.a)(function(e){return e.manage.profiles.contacts.classifiers.data},function(e){return e.manage.profiles.contacts.classifiers.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return pe()(t.map(function(t){return e[t]}))}),qr=Object(u.b)(function(e,t){return{profile:er(e,t),classifiers:Jr(e)}},{add:dr.a.start,info:Ve.b})(Tr),Qr=Object(u.b)(function(e,t){return{profile:er(e,t),contact:Mr(e,t),classifiers:Jr(e)}},{save:dr.d.start,info:Ve.b})(Ir),_r=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(vr,{path:"/"},a.a.createElement(zr,{path:"/"}),a.a.createElement(qr,{path:"add"}),a.a.createElement(Qr,{path:":cid"})))},Hr=n(38),Kr=Object(u.b)(null,{fetch:Hr.b.start})(function(e){var t=e.pid,n=e.fetch,a=(e.classifiers,e.children);return Object(r.useEffect)(function(){t&&n({id:t})},[t]),a});function Wr(){return(Wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xr=Object(r.memo)(function(e){return a.a.createElement(v.b,Wr({actions:function(e){var t=e.profile,n=e.photo,r=e.remove;return[{label:"Edit",to:"/manage/members/".concat(t.id,"/photos/").concat(n.id)},{label:"Delete",action:function(){return r({profile:t,photo:n})}}]}(e)},e))}),Yr=Object(r.memo)(function(e){var t=e.text;e.classes;return a.a.createElement(Qe.a,null,a.a.createElement(He.a,null,a.a.createElement(We.a,{primary:t})))}),Zr=Object(r.memo)(function(e){var t=e.profile,n=e.photos,r=e.data,c=e.remove,o=e.classes,i=[{name:"caption",cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"url",cell:function(e){return a.a.createElement("img",{src:e.url,width:"100%"})},cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"actions",cell:function(e){return a.a.createElement(Xr,{photo:e,profile:t,remove:c})},width:100,cellProps:{align:"right"}}];return a.a.createElement(W.a,{className:o.paper},a.a.createElement("div",{className:o.card},0===r.length&&a.a.createElement(Yr,{text:n.started?"Loading...":"No photos"}),r.length>0&&a.a.createElement(v.p,{data:r,columns:i})))}),$r=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{backgroundColor:"#fff"}}})(Zr),ea=ee()(10)(Object(te.a)({caption:[Object(te.c)()]}));function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ra=R()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.error,c=e.started,o=e.add,i=e.info,l=e.classes,u=na(Object(r.useState)(null),2),s=(u[0],u[1],"/manage/members/".concat(t.id,"/photos")),m=Object(Z.b)(function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ta(e,t,n[t])})}return e}({id:t.id},e))},{redirectTo:s,onSuccess:function(){return i("The photo has been added")}});return a.a.createElement(W.a,{className:l.paper},a.a.createElement(X.b,{onSubmit:m,validate:ea,render:function(e){var t=e.form,n=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:n,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.e,{name:"caption",label:"Caption"})),a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.c,{name:"file",form:t})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(Y.i,{disabled:r||c},"Add Photo"))))}}),n&&a.a.createElement(Y.f,n))}));function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ca=R()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.photo,r=e.started,c=e.error,o=e.save,i=e.info,l=(e.classifiers,e.classes),u="/manage/members/".concat(t.id,"/photos"),s=Object(Z.b)(function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){aa(e,t,n[t])})}return e}({},e,{profile:t}))},{redirectTo:u,onSuccess:function(){return i("The photo has been updated")}});return void 0===n?null:a.a.createElement(W.a,{className:l.paper},a.a.createElement(X.b,{onSubmit:s,initialValues:contact,validate:ea,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:3},a.a.createElement(Y.e,{name:"value",label:"Value"})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(Y.i,{disabled:n||r},"Save Photo"))))}}),c&&a.a.createElement(Y.f,c))})),oa=function(e){return e.manage.profiles.photos.photos.data},ia=Object(de.a)(oa,function(e){return e.manage.profiles.photos.photos.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?pe()(t.map(function(t){return e[t]})):[]}),la=Object(de.a)(oa,function(e,t){return t.phid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t&&Vr()(e,function(e){return e.id===parseInt(t,10)})}),ua=function(e){return e.manage.profiles.photos.photos},sa=Object(u.b)(function(e,t){return{profile:er(e,t),data:ia(e,t),photos:ua(e)}},{fetch:Hr.b.start,remove:Hr.c.start})($r);function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fa=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ma(e,t,n[t])})}return e}({profile:er(e,t)},ua)},{add:Hr.a.start,info:Ve.b})(ra);function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pa=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ba(e,t,n[t])})}return e}({profile:er(e,t),photo:la(e,t)},ua)},{save:Hr.d.start,info:Ve.b})(ca),da=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(Kr,{path:"/"},a.a.createElement(sa,{path:"/"}),a.a.createElement(fa,{path:"add"}),a.a.createElement(pa,{path:":phid"})))},ga=n(43),va=Object(u.b)(null,{fetch:ga.b.start})(function(e){var t=e.nid,n=e.fetch,a=e.children;return Object(r.useEffect)(function(){t&&n({id:t})},[t]),a});function Oa(){return(Oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ea=Object(r.memo)(function(e){return a.a.createElement(v.b,Oa({actions:function(e){var t=e.profile,n=e.note,r=e.remove;return[{label:"Cancel",action:function(){return r({profile:t,note:n})}}]}(e)},e))}),ha=Object(r.memo)(function(e){var t=e.text;e.classes;return a.a.createElement(Qe.a,null,a.a.createElement(He.a,null,a.a.createElement(We.a,{primary:t})))}),ya=Object(r.memo)(function(e){var t=e.profile,n=e.notes,r=e.data,c=e.remove,o=e.classes,i=[{name:"text",cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"actions",cell:function(e){return a.a.createElement(Ea,{note:e,profile:t,remove:c})},width:100,cellProps:{align:"right"}}];return a.a.createElement(W.a,{className:o.paper},a.a.createElement("div",{className:o.card},0===r.length&&a.a.createElement(ha,{text:n.started?"Loading...":"No notes"}),r.length>0&&a.a.createElement(v.p,{data:r,columns:i})))}),ja=R()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{backgroundColor:"#fff"}}})(ya),wa=ee()(10)(Object(te.a)({value:[Object(te.c)()]}));function Pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sa=R()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.error,r=e.started,c=e.add,o=e.info,i=e.classes,l="/manage/members/".concat(t.id,"/notes"),u=Object(Z.b)(function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pa(e,t,n[t])})}return e}({id:t.id},e))},{redirectTo:l,onSuccess:function(){return o("The note has been recorded")}});return a.a.createElement(W.a,{className:i.paper},a.a.createElement(X.b,{onSubmit:u,validate:wa,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:3},a.a.createElement(Y.e,{name:"text",label:"Text"})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(Y.i,{disabled:n||r},"Record Note"))))}}),n&&a.a.createElement(Y.f,n))})),xa=function(e){return e.manage.profiles.notes.notes.data},ka=Object(de.a)(xa,function(e){return e.manage.profiles.notes.notes.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?pe()(t.map(function(t){return e[t]})):[]}),Na=(Object(de.a)(xa,function(e,t){return t.nid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&arguments[1];return nid&&Vr()(e,function(e){return e.id===parseInt(nid,10)})}),Object(u.b)(function(e,t){return{profile:er(e,t),data:ka(e,t),notes:function(e){return e.manage.profiles.notes.notes}(e)}},{fetch:ga.b.start,remove:ga.c.start})(ja)),Ca=Object(u.b)(function(e,t){return{profile:er(e,t)}},{add:ga.a.start,info:Ve.b})(Sa),Da=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(va,{path:"/"},a.a.createElement(Na,{path:"/"}),a.a.createElement(Ca,{path:"add"})))},Fa=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(Dn,{path:"/"},a.a.createElement(nr,{path:"/"}),a.a.createElement(ar,{path:"register"}),a.a.createElement(cr,{path:":pid"},a.a.createElement(pr,{path:"users/*"}),a.a.createElement(_r,{path:"contacts/*"}),a.a.createElement(da,{path:"photos/*"}),a.a.createElement(Da,{path:"notes/*"})),a.a.createElement(c.e,{from:":pid",to:"/manage/members/:pid/users",noThrow:!0})))};t.default=Object(o.a)(function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(l,{path:"/"},a.a.createElement(pt,{path:"users/*"}),a.a.createElement(_t,{path:"roles/*"}),a.a.createElement(Nn,{path:"groups/*"}),a.a.createElement(Fa,{path:"members/*"})))})}}]);