(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{6220:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(52),o=n(22),i=n(78);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=function(e){return Object(c.b)(function(e){return{me:Object(i.a)(e)}})(function(t){var n=t.me,c=u(t,["me"]),i=n.id,s=n.started,m=c.location.pathname;return Object(a.useEffect)(function(){if(!i&&!s)return Object(o.h)("/signin?return=".concat(m))},[i,s,m]),r.a.createElement(e,l({},c,{me:n}))})};n.d(t,"a",function(){return s})},6231:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n(6220),i=n(112),l=function(e){var t=e.children;return r.a.createElement(i.b,null,t)},u=n(52),s=n(17),m=Object(u.b)(null,{fetch:s.b.start})(function(e){var t=e.fetch,n=e.children;return Object(a.useEffect)(function(){t()},[]),n}),f=n(13),d=n(121),b=n.n(d),p=n(50),v=(n(3),n(8)),g=n.n(v),O=n(6217),E=n.n(O),h=n(6218),y=n.n(h),j=n(6219),w=n.n(j),P=n(346),S=n.n(P),k=n(67),x=n.n(k),N=n(6216),D=n.n(N),F=n(4),A=n.n(F);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var R=Object(a.memo)(function(e){return r.a.createElement(p.b,C({actions:function(e){var t=e.id,n=e.reset,a=e.remove;return[{label:"Reset Password",action:function(){return n({id:t})}},{label:"Change Password",to:"/manage/users/".concat(t,"/password/change")},{label:"Add Member",to:"/manage/users/".concat(t,"/members/add")},{label:"Archive",action:function(){return a({id:t})}}]}(e)},e))});function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var T=function(e){var t=e.isLocked,n=e.handleLock,a=e.disabled;return r.a.createElement(x.a,{onClick:n,disabled:a},r.a.createElement(D.a,{title:t?"unlock user":"lock user"},t?r.a.createElement(f.n,null):r.a.createElement(f.o,null)))},U=function(e){var t=e.id,n=e.classes;return r.a.createElement(c.a,{to:"".concat(t)},r.a.createElement(S.a,{"aria-label":"User",className:n.avatar,color:"secondary"},r.a.createElement(f.h,null)))},V=function(e){var t=e.classes,n=e.isVerified;return r.a.createElement("span",{className:g()(!n&&t.unverified,t.verified)},n?null:"unverified")},G=Object(a.memo)(function(e){var t=e.id,n=e.email,a=e.lock,o=e.classes,i=B(e,["id","email","lock","classes"]);return r.a.createElement(E.a,{className:g()(i.isLocked&&o.locked)},r.a.createElement(y.a,{avatar:r.a.createElement(U,{id:t,classes:o}),action:r.a.createElement(R,I({id:t},i)),title:r.a.createElement(c.a,{to:"".concat(t),className:o.link},n,r.a.createElement(V,{classes:o,isVerified:i.isVerified}))}),r.a.createElement(w.a,{disableActionSpacing:!0},r.a.createElement(T,I({handleLock:function(){return!i.disabled&&a({id:t})}},i))))}),L=A()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},locked:{opacity:.5},verified:{paddingLeft:e.spacing.unit},unverified:{color:e.palette.error.main},link:{textDecoration:"none",color:"inherit"}}})(G);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var z=Object(a.memo)(function(e){var t=e.users,n=J(e,["users"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Users"}],action:r.a.createElement(p.a,{label:"Register",Icon:f.b,to:"register"})}),r.a.createElement(b.a,{container:!0,spacing:24},t.users.map(function(e){return r.a.createElement(b.a,{key:e.id,item:!0,xs:12,sm:6,md:4},r.a.createElement(L,M({},e,n)))})))}),q=n(101),H=n.n(q),K=n(35),Q=n.n(K),W=n(51),X=n(185),Y=n(344),Z=n(343),$=n.n(Z),_=n(269),ee=$()(10)(Object(_.a)({email:[Object(_.c)(),Object(_.b)()]})),te=A()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(a.memo)(function(e){var t=e.error,n=e.started,a=e.add,c=e.classes,o=Object(Y.a)(a),i=o.handleSubmit,l=o.Dialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Users",to:".."},{label:"Register"}]}),r.a.createElement(H.a,{className:c.paper},r.a.createElement(W.b,{onSubmit:i,validate:ee,render:function(e){var t=e.handleSubmit,a=e.pristine;return r.a.createElement("form",{onSubmit:t,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(X.d,{name:"email",label:"Email Address",autoFocus:!0})),r.a.createElement(b.a,{container:!0,item:!0,xs:12,justify:"flex-end"},r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"secondary",disabled:a||n},"Register User"))))}}),r.a.createElement(l,{error:t,message:"The user has been registered"})))})),ne=n(6215);function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var oe=Object(a.memo)(function(e){var t=e.uid,n=e.email,c=e.save,o=e.classes,i=e.children,l=ce(e,["uid","email","save","classes","children"]),u=function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){re(e,t,n[t])})}return e}({id:t},e))},s=Object(a.createRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Users",to:".."},{label:n}],action:r.a.createElement(R,ae({id:t},l))}),r.a.createElement(H.a,{className:o.paper},r.a.createElement("div",{ref:s,className:o.card},r.a.createElement(W.b,{onSubmit:u,initialValues:{email:n},subscription:{},mutators:{setFieldData:ne.a},validate:ee,render:function(e){var t=e.form;return r.a.createElement("form",{onSubmit:u,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(X.d,{name:"email",label:"Email Address",autoFocus:!0,disabled:l.disabled}),r.a.createElement(X.a,{setFieldData:t.mutators.setFieldData,save:u,container:s}))))}}))),r.a.createElement(p.l,{selected:l["*"],tabs:[{label:"Roles",to:"roles"},{label:"Members",to:"members"}]}),i)}),ie=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(oe),le=n(6214),ue=n.n(le),se=n(342),me=Object(se.a)(function(e){return e.manage.roles.claims.entities.data},function(e){return e.manage.roles.claims.entities.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return ue()(t.map(function(t){return e[t]}))});function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){de(e,t,n[t])})}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{claims:[]},n=e.map(function(e){var n=t.claims.find(function(t){return t.entity===e.id});return void 0===n?{entity:e.id,right:0}:n});return fe({},t,{claims:n})},pe=function(e){return e.manage.roles.roles},ve=function(e){return e.manage.roles.roles.data},ge=Object(se.a)(ve,pe,function(e,t){return t.rid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return fe({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),Oe=Object(se.a)(ve,me,pe,function(e,t){return t.rid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return fe({},n,be(t,a&&e[a]))}),Ee=Object(se.a)(ve,pe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return fe({},t,{roles:ue()(t.ids.map(function(t){return e[t]}))})});Object(se.a)(ve,me,pe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return fe({},n,{roles:function(e,t){return e.map(function(e){return be(t,e)}).sort(function(e){return function(t,n){var a=t[e].toUpperCase(),r=n[e].toUpperCase();return a>r?1:a<r?-1:0}}("name"))}(ue()(n.ids.map(function(t){return e[t]})),t)})});function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ye(e,t,n[t])})}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){return e.manage.users.users},we=function(e){return e.manage.users.users.data},Pe=Object(se.a)(we,je,function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return he({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),Se=Object(se.a)(we,Ee,je,function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return he({},n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{roles:[]};return he({},t,{roles:e.map(function(e){var n=void 0!==t.roles.find(function(t){return t===e.id});return he({},e,{has:n})})})}(t.roles,e[a]))}),ke=Object(se.a)(we,je,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return he({},t,{users:ue()(t.ids.map(function(t){return e[t]}))})}),xe={save:s.f.start,lock:s.c.start,reset:s.e.start,remove:s.d.start},Ne=Object(u.b)(function(e){return{users:ke(e)}},xe)(z),De=Object(u.b)(null,{add:s.a.start})(te),Fe={save:s.f.start,reset:s.e.start,remove:s.d.start},Ae=Object(u.b)(function(e,t){return Pe(e,t)},Fe)(ie),Ce=n(270),Re=n.n(Ce),Ie=n(271),Be=n.n(Ie),Te=n(345),Ue=n.n(Te),Ve=Object(a.memo)(function(e){var t=e.text;return r.a.createElement(Be.a,null,r.a.createElement(Ue.a,{primary:t}))}),Ge=Object(a.memo)(function(e){var t=e.to,n=e.primary;return r.a.createElement(Be.a,{button:!0,component:c.a,to:t},r.a.createElement(Ue.a,{primary:n}))}),Le=Object(a.memo)(function(e){var t=e.profiles,n=e.data,a=e.classes;return r.a.createElement(H.a,{className:a.paper},r.a.createElement("div",{className:a.card},r.a.createElement(Re.a,{className:a.root},0===n.length&&r.a.createElement(Ve,{text:t.started?"Loading...":"No profiles"}),n.map(function(e){return r.a.createElement(Ge,{key:e.id,to:"../../../members/".concat(e.id,"/users"),primary:e.name})}))))}),Me=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(Le),Je=Object(se.a)(function(e){return e.manage.profiles.profiles.data},function(e){return e.manage.users.profiles.ids},function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?ue()(t.map(function(t){return e[t]})):[]}),ze=Object(u.b)(function(e,t){return{user:Pe(e,t),profiles:function(e){return e.manage.profiles.profiles}(e),data:Je(e,t)}})(Me),qe=n(95),He=Object(u.b)(null,{fetch:qe.a.start})(function(e){var t=e.uid,n=e.fetch,r=e.children;return Object(a.useEffect)(function(){t&&n({id:t})},[t]),r}),Ke=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(He,{path:"/"},r.a.createElement(ze,{path:"/"})))},Qe=n(436),We=n.n(Qe),Xe=Object(a.memo)(function(e){var t=e.user,n=e.save,a=e.classes;return r.a.createElement(H.a,{className:a.paper},r.a.createElement("div",{className:a.card},r.a.createElement(Re.a,{className:a.root},t.roles.map(function(e){return r.a.createElement(Be.a,{key:e.id,role:e.name,button:!t.disabled,onClick:function(){return function(e){return!t.disabled&&n({role:e,user:t})}(e)}},r.a.createElement(We.a,{checked:e.has,disableRipple:!0,disabled:t.disabled}),r.a.createElement(Ue.a,{primary:e.name}))}))))}),Ye=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(Xe),Ze=n(337),$e=Object(u.b)(function(e,t){return{user:Se(e,t),roles:Ee(e)}},{save:Ze.a.start})(Ye),_e=n(27),et=Object(u.b)(null,{fetch:_e.b.start})(function(e){var t=e.fetch,n=e.children;return Object(a.useEffect)(function(){t()},[]),n}),tt=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(et,{path:"/"},r.a.createElement($e,{path:"/"})))},nt=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(m,{path:"/"},r.a.createElement(Ne,{path:"/"}),r.a.createElement(De,{path:"register"}),r.a.createElement(Ae,{path:":uid"},r.a.createElement(tt,{path:"roles/*"}),r.a.createElement(Ke,{path:"members/*"})),r.a.createElement(c.e,{from:":uid",to:"/manage/users/:uid/roles",noThrow:!0})))},at=n(97),rt=n(96),ct=Object(u.b)(null,{fetch:_e.b.start,permissions:rt.a.start,entities:at.a.start})(function(e){var t=e.fetch,n=e.permissions,r=e.entities,c=e.children;return Object(a.useEffect)(function(){n()},[]),Object(a.useEffect)(function(){r()},[]),Object(a.useEffect)(function(){t()},[]),c});function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function it(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var lt=function(e){var t=e.isArchived,n=e.handleArchive,a=e.disabled;return r.a.createElement(x.a,{onClick:n,disabled:a},r.a.createElement(D.a,{title:t?"restore role":"archive role"},t?r.a.createElement(f.s,null):r.a.createElement(f.f,null)))},ut=function(e){var t=e.id,n=e.classes;return r.a.createElement(c.a,{to:"".concat(t)},r.a.createElement(S.a,{"aria-label":"Role",className:n.avatar,color:"secondary"},r.a.createElement(f.u,null)))},st=Object(a.memo)(function(e){var t=e.id,n=e.name,a=e.classes,o=it(e,["id","name","classes"]);return r.a.createElement(E.a,{className:g()(o.isArchived&&a.archived)},r.a.createElement(y.a,{avatar:r.a.createElement(ut,{id:t,classes:a}),title:r.a.createElement(c.a,{to:"".concat(t),className:a.link},n)}),r.a.createElement(w.a,{disableActionSpacing:!0},r.a.createElement(lt,ot({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),mt=A()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(st);function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var bt=Object(a.memo)(function(e){var t=e.roles,n=dt(e,["roles"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Roles"}],action:r.a.createElement(p.a,{label:"Add Role",Icon:f.b,to:"add"})}),r.a.createElement(b.a,{container:!0,spacing:24},t.roles.map(function(e){return r.a.createElement(b.a,{key:e.id,item:!0,xs:12,sm:6,md:4},r.a.createElement(mt,ft({},e,n)))})))}),pt=n(6221),vt=n(6222),gt=$()(10)(Object(_.a)({name:[Object(_.c)()]}));function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=A()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(a.memo)(function(e){var t=e.claims,n=e.error,a=e.isSaving,c=e.entities,o=e.permissions,i=e.add,l=e.classes,u=Object(Y.a)(i),s=u.handleSubmit,m=u.Dialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Roles",to:".."},{label:"Add"}]}),r.a.createElement(H.a,{className:l.paper},r.a.createElement(W.b,{onSubmit:s,validate:gt,initialValues:{claims:t},mutators:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Ot(e,t,n[t])})}return e}({},pt.a),render:function(e){var n=e.handleSubmit,i=e.pristine;return r.a.createElement("form",{onSubmit:n,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(X.d,{name:"name",label:"Role Name",autoFocus:!0})),r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(vt.a,{name:"claims"},function(e){return e.fields.map(function(e,n){return r.a.createElement(X.g,{key:n,name:"".concat(e,".right"),label:c.find(function(e){return e.id===t[n].entity}).name,data:o})})})),r.a.createElement(b.a,{container:!0,item:!0,xs:12,justify:"flex-end"},r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"secondary",disabled:i||a},"Add Role"))))}}),r.a.createElement(m,{error:n,message:"The role has been added"})))}));function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var jt=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(a.memo)(function(e){var t=e.rid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=yt(e,["rid","name","disabled","save","classes","children"]),s=function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ht(e,t,n[t])})}return e}({id:t},e))},m=Object(a.createRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Roles",to:".."},{label:n}]}),r.a.createElement(H.a,{className:i.paper},r.a.createElement("div",{ref:m,className:i.card},r.a.createElement(W.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:ne.a},validate:gt,render:function(e){var t=e.form;return r.a.createElement("form",{onSubmit:s,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(X.d,{name:"name",label:"Role Name",autoFocus:!0,disabled:c}),r.a.createElement(X.a,{setFieldData:t.mutators.setFieldData,save:s,container:m}))))}}))),r.a.createElement(p.l,{selected:u["*"],tabs:[{label:"Claims",to:"claims"}]}),l)})),wt=Object(u.b)(function(e){return{roles:Ee(e)}},{save:_e.d.start,remove:_e.c.start})(bt),Pt=Object(se.a)(function(e){return e.manage.roles.claims.permissions.data},function(e){return e.manage.roles.claims.permissions.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return ue()(t.map(function(t){return e[t]}))});function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){St(e,t,n[t])})}return e}({},Oe(e,t),{entities:me(e),permissions:Pt(e)})},{add:_e.a.start})(Et),xt=Object(u.b)(function(e,t){return ge(e,t)},{save:_e.d.start,remove:_e.c.start})(jt);function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Dt(e,t,n[t])})}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=Object(a.memo)(function(e){var t=e.role,n=e.save,c=e.permissions,o=e.entities,i=e.classes,l=function(e){return!t.disabled&&n(Nt({},t,e))},u=Object(a.createRef)();if(0!==t.claims.length)return r.a.createElement(H.a,{className:i.paper},r.a.createElement("div",{ref:u,className:i.card},r.a.createElement(W.b,{onSubmit:l,initialValues:{claims:t.claims},subscription:{},mutators:Nt({},pt.a,{setFieldData:ne.a}),render:function(e){var n=e.form;return r.a.createElement("form",{autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(X.a,{setFieldData:n.mutators.setFieldData,save:l,container:u}),r.a.createElement(vt.a,{name:"claims"},function(e){return e.fields.map(function(e,n){return r.a.createElement(X.g,{key:n,disabled:t.disabled,name:"".concat(e,".right"),label:o.find(function(e){return e.id===t.claims[n].entity}).name,data:c})})}))))}})))}),At=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Ft),Ct=Object(u.b)(function(e,t){return{role:Oe(e,t),entities:me(e),permissions:Pt(e)}},{save:_e.d.start})(At),Rt=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(Ct,{path:"/"}))},It=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(ct,{path:"/"},r.a.createElement(wt,{path:"/"}),r.a.createElement(kt,{path:"add"}),r.a.createElement(xt,{path:":rid"},r.a.createElement(Rt,{path:"claims/*"})),r.a.createElement(c.e,{from:":rid",to:"/manage/roles/:rid/claims",noThrow:!0})))},Bt=n(28),Tt=Object(u.b)(null,{fetch:Bt.b.start})(function(e){var t=e.fetch,n=e.children;return Object(a.useEffect)(function(){t()},[]),n});function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Vt=Object(a.memo)(function(e){return r.a.createElement(p.b,Ut({actions:function(e){var t=e.id,n=e.remove;return[{label:"Add Child Group",to:"/manage/groups/".concat(t,"/groups/add")},{label:"Upload Photo",to:"/manage/groups/".concat(t,"/photos/upload")},{label:"Archive",action:function(){return n({id:t})}}]}(e)},e))});function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Mt=function(e){var t=e.isArchived,n=e.handleArchive,a=e.disabled;return r.a.createElement(x.a,{onClick:n,disabled:a},r.a.createElement(D.a,{title:t?"restore group":"archive group"},t?r.a.createElement(f.s,null):r.a.createElement(f.f,null)))},Jt=function(e){var t=e.id,n=e.classes;return r.a.createElement(c.a,{to:"".concat(t)},r.a.createElement(S.a,{"aria-label":"Group",className:n.avatar,color:"secondary"},r.a.createElement(f.v,null)))},zt=Object(a.memo)(function(e){var t=e.id,n=e.name,a=e.classes,o=Lt(e,["id","name","classes"]);return r.a.createElement(E.a,{className:g()(o.isArchived&&a.archived)},r.a.createElement(y.a,{avatar:r.a.createElement(Jt,{id:t,classes:a}),action:r.a.createElement(Vt,Gt({id:t},o)),title:r.a.createElement(c.a,{to:"".concat(t),className:a.link},n)}),r.a.createElement(w.a,{disableActionSpacing:!0},r.a.createElement(Mt,Gt({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),qt=A()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(zt);function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Kt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Qt=Object(a.memo)(function(e){var t=e.groups,n=Kt(e,["groups"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Groups"}],action:r.a.createElement(p.a,{label:"Add Group",Icon:f.b,to:"add"})}),r.a.createElement(b.a,{container:!0,spacing:24},t.groups.map(function(e){return r.a.createElement(b.a,{key:e.id,item:!0,xs:12,sm:6,md:4},r.a.createElement(qt,Ht({},e,n)))})))}),Wt=$()(10)(Object(_.a)({name:[Object(_.c)()]})),Xt=A()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(a.memo)(function(e){var t=e.error,n=e.started,a=e.add,c=e.classes,o=Object(Y.a)(a),i=o.handleSubmit,l=o.Dialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Groups",to:".."},{label:"Add Group"}]}),r.a.createElement(H.a,{className:c.paper},r.a.createElement(W.b,{onSubmit:i,validate:Wt,render:function(e){var t=e.handleSubmit,a=e.pristine;return r.a.createElement("form",{onSubmit:t,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(X.d,{name:"name",label:"Group Name",autoFocus:!0})),r.a.createElement(b.a,{container:!0,item:!0,xs:12,justify:"flex-end"},r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"secondary",disabled:a||n},"Add Group"))))}}),r.a.createElement(l,{error:t,message:"The group has been added"})))}));function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var $t=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(a.memo)(function(e){var t=e.gid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=Zt(e,["gid","name","disabled","save","classes","children"]),s=function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Yt(e,t,n[t])})}return e}({id:t},e))},m=Object(a.createRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Groups",to:".."},{label:n}],action:r.a.createElement(Vt,{id:t})}),r.a.createElement(H.a,{className:i.paper},r.a.createElement("div",{ref:m,className:i.card},r.a.createElement(W.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:ne.a},validate:Wt,render:function(e){var t=e.form;return r.a.createElement("form",{onSubmit:s,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(X.d,{name:"name",label:"Group Name",autoFocus:!0,disabled:c}),r.a.createElement(X.a,{setFieldData:t.mutators.setFieldData,save:s,container:m}))))}}))),r.a.createElement(p.l,{selected:u["*"],tabs:[{label:"Children",to:"groups"}]}),l)}));function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){en(e,t,n[t])})}return e}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tn=function(e){return e.manage.groups.groups},nn=function(e){return e.manage.groups.groups.data},an=Object(se.a)(nn,tn,function(e,t){return t.gid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=e[n];return void 0===a?_t({},t):_t({},t,a,{groups:a.groups.map(function(t){return e[t]})})}),rn=Object(se.a)(nn,tn,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return _t({},t,{groups:ue()(t.ids.map(function(t){return e[t]}))})}),cn=Object(u.b)(function(e){return{groups:rn(e)}},{save:Bt.d.start,remove:Bt.c.start})(Qt);function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ln=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){on(e,t,n[t])})}return e}({},an(e,t))},{add:Bt.a.start})(Xt),un=Object(u.b)(function(e,t){return an(e,t)},{save:Bt.d.start,remove:Bt.c.start})($t),sn=Object(a.memo)(function(e){var t=e.primary;return r.a.createElement(Be.a,null,r.a.createElement(Ue.a,{primary:t}))}),mn=Object(a.memo)(function(e){var t=e.to,n=e.primary;return r.a.createElement(Be.a,{button:!0,component:c.a,to:t},r.a.createElement(Ue.a,{primary:n}))}),fn=Object(a.memo)(function(e){var t=e.group,n=e.classes,a=t.groups;if(void 0!==a)return r.a.createElement(H.a,{className:n.paper},r.a.createElement("div",{className:n.card},r.a.createElement(Re.a,{className:n.root},0===a.length&&r.a.createElement(sn,{primary:"No children"}),a.map(function(e){return r.a.createElement(mn,{key:e.id,to:"../../".concat(e.id),primary:e.name})}))))}),dn=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(fn),bn=Object(u.b)(function(e,t){return{group:an(e,t)}})(dn),pn=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(bn,{path:"/"}))},vn=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(Tt,{path:"/"},r.a.createElement(cn,{path:"/"}),r.a.createElement(ln,{path:"add"}),r.a.createElement(un,{path:":gid"},r.a.createElement(pn,{path:"groups/*"})),r.a.createElement(c.e,{from:":gid",to:"/manage/groups/:gid/groups",noThrow:!0})))},gn=n(29),On=Object(u.b)(null,{fetch:gn.b.start})(function(e){var t=e.fetch,n=e.children;return Object(a.useEffect)(function(){t()},[]),n});function En(){return(En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var hn=Object(a.memo)(function(e){return r.a.createElement(p.b,En({actions:function(e){var t=e.id,n=e.remove;return[{label:"Add User",to:"/manage/members/".concat(t,"/users/add")},{label:"Upload Photo",to:"/manage/members/".concat(t,"/photos/upload")},{label:"Add a Contact",to:"/manage/members/".concat(t,"/contacts/add")},{label:"Archive",action:function(){return n({id:t})}}]}(e)},e))});function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function jn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var wn=function(e){var t=e.isArchived,n=e.handleArchive,a=e.disabled;return r.a.createElement(x.a,{onClick:n,disabled:a},r.a.createElement(D.a,{title:t?"restore member":"archive member"},t?r.a.createElement(f.s,null):r.a.createElement(f.f,null)))},Pn=function(e){var t=e.id,n=e.classes;return r.a.createElement(c.a,{to:"".concat(t)},r.a.createElement(S.a,{"aria-label":"Profile",className:n.avatar,color:"secondary"},r.a.createElement(f.j,null)))},Sn=Object(a.memo)(function(e){var t=e.id,n=e.name,a=e.classes,o=jn(e,["id","name","classes"]);return r.a.createElement(E.a,{className:g()(o.isArchived&&a.archived)},r.a.createElement(y.a,{avatar:r.a.createElement(Pn,{id:t,classes:a}),action:r.a.createElement(hn,yn({id:t},o)),title:r.a.createElement(c.a,{to:"".concat(t),className:a.link},n)}),r.a.createElement(w.a,{disableActionSpacing:!0},r.a.createElement(wn,yn({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),kn=A()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(Sn);function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Nn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Dn=Object(a.memo)(function(e){var t=e.profiles,n=Nn(e,["profiles"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Members"}],action:r.a.createElement(p.a,{label:"Register",Icon:f.b,to:"register"})}),r.a.createElement(b.a,{container:!0,spacing:24},t.profiles.map(function(e){return r.a.createElement(b.a,{key:e.id,item:!0,xs:12,sm:6,md:4},r.a.createElement(kn,xn({},e,n)))})))}),Fn=$()(10)(Object(_.a)({name:[Object(_.c)()]})),An=A()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(a.memo)(function(e){var t=e.error,n=e.started,a=e.add,c=e.classes,o=Object(Y.a)(a),i=o.handleSubmit,l=o.Dialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Members",to:".."},{label:"Register"}]}),r.a.createElement(H.a,{className:c.paper},r.a.createElement(W.b,{onSubmit:i,validate:Fn,render:function(e){var t=e.handleSubmit,a=e.pristine;return r.a.createElement("form",{onSubmit:t,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(X.d,{name:"name",label:"Name",autoFocus:!0}),r.a.createElement(X.d,{name:"email",label:"Email Address"})),r.a.createElement(b.a,{container:!0,item:!0,xs:12,justify:"flex-end"},r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"secondary",disabled:a||n},"Register Member"))))}}),r.a.createElement(l,{error:t,message:"The member has been registered"})))}));function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Bn=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(a.memo)(function(e){var t=e.pid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=In(e,["pid","name","disabled","save","classes","children"]),s=function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Rn(e,t,n[t])})}return e}({id:t},e))},m=Object(a.createRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{parts:[{label:"Members",to:".."},{label:n}],action:r.a.createElement(hn,Cn({id:t},u))}),r.a.createElement(H.a,{className:i.paper},r.a.createElement("div",{ref:m,className:i.card},r.a.createElement(W.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:ne.a},validate:Fn,render:function(e){var t=e.form;return r.a.createElement("form",{onSubmit:s,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(X.d,{name:"name",label:"Name",autoFocus:!0,disabled:c}),r.a.createElement(X.a,{setFieldData:t.mutators.setFieldData,save:s,container:m}))))}}))),r.a.createElement(p.l,{selected:u["*"],tabs:[{label:"Users",to:"users"},{label:"Photos",to:"photos"},{label:"Contacts",to:"contacts"},{label:"Notes",to:"notes"}]}),l)}));function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Un(e,t,n[t])})}return e}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vn=function(e){return e.manage.profiles.profiles},Gn=function(e){return e.manage.profiles.profiles.data},Ln=Object(se.a)(Gn,Vn,function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Tn({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),Mn=Object(se.a)(Gn,Vn,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Tn({},t,{profiles:ue()(t.ids.map(function(t){return e[t]}))})}),Jn=Object(u.b)(function(e){return{profiles:Mn(e)}},{save:gn.d.start,remove:gn.c.start})(Dn),zn=Object(u.b)(null,{add:gn.a.start})(An),qn=Object(u.b)(function(e,t){return Ln(e,t)},{save:gn.d.start,remove:gn.c.start})(Bn),Hn=n(98),Kn=Object(u.b)(null,{fetch:Hn.a.start})(function(e){var t=e.pid,n=e.fetch,r=e.children;return Object(a.useEffect)(function(){t&&n({id:t})},[t]),r}),Qn=Object(a.memo)(function(e){var t=e.text;return r.a.createElement(Be.a,null,r.a.createElement(Ue.a,{primary:t}))}),Wn=Object(a.memo)(function(e){var t=e.to,n=e.primary;return r.a.createElement(Be.a,{button:!0,component:c.a,to:t},r.a.createElement(Ue.a,{primary:n}))}),Xn=Object(a.memo)(function(e){var t=e.users,n=e.data,a=e.classes;return r.a.createElement(H.a,{className:a.paper},r.a.createElement("div",{className:a.card},r.a.createElement(Re.a,null,0===n.length&&r.a.createElement(Qn,{text:t.started?"Loading...":"No users"}),n.map(function(e){return r.a.createElement(Wn,{key:e.id,to:"../../../users/".concat(e.id,"/members"),primary:e.email})}))))}),Yn=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(Xn),Zn=Object(se.a)(function(e){return e.manage.users.users.data},function(e){return e.manage.profiles.users.users.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?ue()(t.map(function(t){return e[t]})):[]}),$n=Object(u.b)(function(e,t){return{profile:Ln(e,t),users:function(e){return e.manage.users.users}(e),data:Zn(e,t)}})(Yn),_n=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(Kn,{path:"/"},r.a.createElement($n,{path:"/"})))},ea=n(44),ta=n(99),na=Object(u.b)(null,{fetch:ea.b.start,classifiers:ta.a.start})(function(e){var t=e.pid,n=e.fetch,r=e.classifiers,c=e.children;return Object(a.useEffect)(function(){r()},[]),Object(a.useEffect)(function(){t&&n({id:t})},[t]),c}),aa=n(509),ra=n.n(aa),ca=n(510),oa=n.n(ca),ia=n(347),la=n.n(ia),ua=n(508),sa=n.n(ua);function ma(){return(ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var fa=Object(a.memo)(function(e){return r.a.createElement(p.b,ma({actions:function(e){var t=e.profile,n=e.contact,a=e.remove;return[{label:"Edit",to:"/manage/members/".concat(t.id,"/contacts/").concat(n.id)},{label:"Delete",action:function(){return a({profile:t,contact:n})}}]}(e)},e))}),da=Object(a.memo)(function(e){var t=e.text;e.classes;return r.a.createElement(Re.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ue.a,{primary:t})))}),ba=Object(a.memo)(function(e){var t=e.profile,n=e.contacts,a=e.data,c=(e.fetch,e.remove),o=e.classes,i=[{name:"classifier",cell:function(e){var t=e.classifier;return{email:r.a.createElement(la.a,null),phone:r.a.createElement(sa.a,null),address:r.a.createElement(ra.a,null),url:r.a.createElement(oa.a,null)}[t]},width:60,cellProps:{style:{paddingRight:0}}},{name:"value",cell:function(e){var t=e.classifier,n=e.value;return{email:n.email,phone:n.phone,address:"".concat(n.street," ").concat(n.city," ").concat(n.postcode),url:n.url}[t]},cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"actions",cell:function(e){return r.a.createElement(fa,{contact:e,profile:t,remove:c})},width:100,cellProps:{align:"right"}}];return r.a.createElement(H.a,{className:o.paper},r.a.createElement("div",{className:o.card},0===a.length&&r.a.createElement(da,{text:n.started?"Loading...":"No contacts"}),a.length>0&&r.a.createElement(p.m,{data:a,columns:i})))}),pa=A()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{backgroundColor:"#fff"}}})(ba),va={address:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.d,{name:"value.street",label:"Street",autoFocus:!0}),r.a.createElement(X.d,{name:"value.city",label:"City"}),r.a.createElement(X.d,{name:"value.postcode",label:"Postcode"}))},email:function(e){return r.a.createElement(X.d,{name:"value.email",label:"Email Address",autoFocus:!0})},phone:function(e){return r.a.createElement(X.d,{name:"value.phone",label:"Phone Number",autoFocus:!0})},url:function(e){return r.a.createElement(X.d,{name:"value.url",label:"URL",autoFocus:!0})}},ga=$()(10)(Object(_.a)({value:[Object(_.c)()]}));function Oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ea=A()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(a.memo)(function(e){var t=e.profile,n=e.error,a=e.isSaving,c=e.add,o=e.classifiers,i=e.classes,l=Object(Y.a)(function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Oa(e,t,n[t])})}return e}({id:t.id},e))}),u=l.handleSubmit,s=l.Dialog;return r.a.createElement(H.a,{className:i.paper},r.a.createElement(W.b,{onSubmit:u,initialValues:{classifier:"email"},validate:ga,render:function(e){var t=e.handleSubmit,n=e.pristine;return r.a.createElement("form",{onSubmit:t,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:3},r.a.createElement(X.g,{name:"classifier",label:"Contact Type",data:o})),r.a.createElement(b.a,{item:!0,xs:12,sm:9},r.a.createElement(W.a,{name:"classifier",subscription:{value:!0}},function(e){var t=e.input.value,n=va[t];return r.a.createElement(n,null)})),r.a.createElement(b.a,{container:!0,item:!0,xs:12,justify:"flex-end"},r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"secondary",disabled:n||a},"Add Contact"))))}}),r.a.createElement(s,{error:n,message:"The contact has been added"}))}));function ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ya=A()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(a.memo)(function(e){var t=e.profile,n=e.contact,a=e.error,c=e.isSaving,o=e.add,i=e.classifiers,l=e.classes,u=Object(Y.a)(function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ha(e,t,n[t])})}return e}({id:t.id},e))}),s=u.handleSubmit,m=u.Dialog;return r.a.createElement(H.a,{className:l.paper},r.a.createElement(W.b,{onSubmit:s,initialValues:n,validate:ga,render:function(e){var t=e.handleSubmit,n=e.pristine;return r.a.createElement("form",{onSubmit:t,autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:24},r.a.createElement(b.a,{item:!0,xs:12,sm:3},r.a.createElement(X.g,{name:"classifier",label:"Contact Type",data:i})),r.a.createElement(b.a,{item:!0,xs:12,sm:9},r.a.createElement(W.a,{name:"classifier",subscription:{value:!0}},function(e){var t=e.input.value,n=va[t];return r.a.createElement(n,null)})),r.a.createElement(b.a,{container:!0,item:!0,xs:12,justify:"flex-end"},r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"secondary",disabled:n||c},"Save Contact"))))}}),r.a.createElement(m,{error:a,message:"The contact has been saved"}))})),ja=function(e){return e.manage.profiles.contacts.contacts.data},wa=function(e){return e.manage.profiles.contacts.contacts.ids},Pa=Object(se.a)(ja,wa,function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?ue()(t.map(function(t){return e[t]})):[]}),Sa=Object(se.a)(ja,wa,function(e,t){return t.pid},function(e,t){return t.cid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(void 0!==(t=t[n]))return(a=t[a])&&e[a]}),ka=Object(u.b)(function(e,t){return{profile:Ln(e,t),data:Pa(e,t),contacts:function(e){return e.manage.profiles.contacts.contacts}(e)}},{fetch:ea.b.start,remove:ea.c.start})(pa),xa=Object(se.a)(function(e){return e.manage.profiles.contacts.classifiers.data},function(e){return e.manage.profiles.contacts.classifiers.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return ue()(t.map(function(t){return e[t]}))}),Na=Object(u.b)(function(e,t){return{profile:Ln(e,t),classifiers:xa(e)}},{add:ea.a.start})(Ea),Da=Object(u.b)(function(e,t){return{profile:Ln(e,t),contact:Sa(e,t),classifiers:xa(e)}},{add:ea.a.start})(ya),Fa=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(na,{path:"/"},r.a.createElement(ka,{path:"/"}),r.a.createElement(Na,{path:"add"}),r.a.createElement(Da,{path:":cid"})))},Aa=function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(On,{path:"/"},r.a.createElement(Jn,{path:"/"}),r.a.createElement(zn,{path:"register"}),r.a.createElement(qn,{path:":pid"},r.a.createElement(_n,{path:"users/*"}),r.a.createElement(Fa,{path:"contacts/*"})),r.a.createElement(c.e,{from:":pid",to:"/manage/members/:pid/users",noThrow:!0})))};t.default=Object(o.a)(function(){return r.a.createElement(c.f,{primary:!1},r.a.createElement(l,{path:"/"},r.a.createElement(nt,{path:"users/*"}),r.a.createElement(It,{path:"roles/*"}),r.a.createElement(vn,{path:"groups/*"}),r.a.createElement(Aa,{path:"members/*"})))})}}]);