(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{6287:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(53),o=n(18),i=n(82);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=function(e){return Object(c.b)(function(e){return{me:Object(i.a)(e)}})(function(t){var n=t.me,c=u(t,["me"]),i=n.id,s=n.started,m=c.location.pathname;return Object(r.useEffect)(function(){if(!i&&!s)return Object(o.h)("/signin?return=".concat(m))},[i,s,m]),a.a.createElement(e,l({},c,{me:n}))})};n.d(t,"a",function(){return s})},6437:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),o=n(6287),i=n(115),l=function(e){var t=e.children;return a.a.createElement(i.b,null,t)},u=n(53),s=n(13),m=Object(u.b)(null,{fetch:s.b.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n}),f=n(265),b=n(57),p=n.n(b),d=n(35),g=n(14),v=n(51),O=n(117),E=n.n(O),h=n(246),y=n.n(h),j=n(4),w=n.n(j),P=w()(function(e){return{input:{marginTop:0,marginLeft:0,marginRight:e.spacing.unit,marginBottom:e.spacing.unit,width:"100%"}}})(function(e){var t=e.filter,n=e.classes;return a.a.createElement(E.a,{onChange:function(e){return t("email",e.target.value)},margin:"dense",className:n.input,startAdornment:a.a.createElement(y.a,{position:"start"},a.a.createElement(g.v,null))})}),S=(n(3),n(61)),k=n.n(S),x=n(186),N=n.n(x),F=n(71),C=n.n(F),D=n(224),A=n.n(D),R=n(250),T=n.n(R),I=n(126);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var L=w()(function(e){return{button:{padding:e.spacing.unit},item:{outline:0},blank:{opacity:0}}})(Object(r.memo)(function(e){var t=e.id,n=e.sort,r=e.asc,c=e.desc,o=e.properties,i=e.classes,l=Object(I.usePopupState)({variant:"popover",popupId:t}),u=Object.keys(o).map(function(e){return{property:e,label:o[e],action:function(){return n.ascending?c(e):r(e)}}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,B({className:i.button,variant:"contained",color:"inherit"},Object(I.bindTrigger)(l)),a.a.createElement(g.s,null)),a.a.createElement(N.a,Object(I.bindMenu)(l),u.map(function(e,t){var r=e.property,c=e.action,o=e.label;return a.a.createElement("span",{key:t,className:i.item,onClick:l.close},a.a.createElement(C.a,{onClick:c},a.a.createElement(T.a,null,n.property===r?n.ascending?a.a.createElement(g.e,null):a.a.createElement(g.d,null):a.a.createElement(g.e,{className:i.blank})),a.a.createElement(A.a,{inset:!0,primary:o})))})))})),U=n(8),V=n.n(U),G=n(529),M=n.n(G),J=n(530),q=n.n(J),z=n(531),Q=n.n(z),_=n(225),H=n.n(_),K=n(528),W=n.n(K);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Y=Object(r.memo)(function(e){return a.a.createElement(v.b,X({actions:function(e){var t=e.id,n=e.reset,r=e.remove;return[{label:"Reset Password",action:function(){return n({id:t})}},{label:"Change Password",to:"/manage/users/".concat(t,"/password/change")},{label:"Add Member",to:"/manage/users/".concat(t,"/members/add")},{label:"Archive",action:function(){return r({id:t})}}]}(e)},e))});function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ee=function(e){var t=e.isLocked,n=e.handleLock,r=e.disabled;return a.a.createElement(k.a,{onClick:n,disabled:r},a.a.createElement(W.a,{title:t?"unlock user":"lock user"},t?a.a.createElement(g.p,null):a.a.createElement(g.q,null)))},te=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(H.a,{"aria-label":"User",className:n.avatar,color:"secondary"},a.a.createElement(g.j,null)))},ne=function(e){var t=e.classes,n=e.isVerified;return a.a.createElement("span",{className:V()(!n&&t.unverified,t.verified)},n?null:"unverified")},re=Object(r.memo)(function(e){var t=e.id,n=e.email,r=e.lock,o=e.classes,i=$(e,["id","email","lock","classes"]);return a.a.createElement(M.a,{className:V()(i.isLocked&&o.locked)},a.a.createElement(q.a,{avatar:a.a.createElement(te,{id:t,classes:o}),action:a.a.createElement(Y,Z({id:t},i)),title:a.a.createElement(c.a,{to:"".concat(t),className:o.link},n,a.a.createElement(ne,{classes:o,isVerified:i.isVerified}))}),a.a.createElement(Q.a,{disableActionSpacing:!0},a.a.createElement(ee,Z({handleLock:function(){return!i.disabled&&r({id:t})}},i))))}),ae=w()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},locked:{opacity:.5},verified:{paddingLeft:e.spacing.unit},unverified:{color:e.palette.error.main},link:{textDecoration:"none",color:"inherit"}}})(re);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ie={email:"Email"},le=Object(d.withTheme)()(function(e){var t=e.filter,n=e.sort,r=e.asc,c=e.desc,o=e.theme,i=Object(f.unstable_useMediaQuery)(o.breakpoints.down("xs"))?"flex-start":"flex-end";return a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:8},a.a.createElement(P,{filter:t})),a.a.createElement(p.a,{item:!0,container:!0,xs:12,sm:4,justify:i},a.a.createElement(L,{id:"users",sort:n,asc:r,desc:c,properties:ie})))}),ue=Object(r.memo)(function(e){var t=e.users,n=oe(e,["users"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Users"}],action:a.a.createElement(v.a,{label:"Register",Icon:g.b,to:"register"})}),a.a.createElement(le,ce({sort:t.sort},n)),a.a.createElement(p.a,{container:!0,spacing:24},t.users.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(ae,ce({},e,n)))})))}),se=n(75),me=n.n(se),fe=n(52),be=n(161),pe=n(377),de=n(376),ge=n.n(de),ve=n(293),Oe=ge()(10)(Object(ve.a)({email:[Object(ve.c)(),Object(ve.b)()]})),Ee=w()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.error,n=e.started,r=e.add,c=e.info,o=e.classes,i=Object(pe.b)(r,{redirectTo:"/manage/users",onSuccess:function(){return c("The user has been registered")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Users",to:".."},{label:"Register"}]}),a.a.createElement(me.a,{className:o.paper},a.a.createElement(fe.b,{onSubmit:i,validate:Oe,render:function(e){var t=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12},a.a.createElement(be.d,{name:"email",label:"Email Address",autoFocus:!0})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(be.h,{disabled:r||n},"Register User"))))}}),t&&a.a.createElement(be.e,t)))})),he=n(6268);function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Pe=Object(r.memo)(function(e){var t=e.uid,n=e.email,c=e.save,o=e.classes,i=e.children,l=we(e,["uid","email","save","classes","children"]),u=function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){je(e,t,n[t])})}return e}({id:t},e))},s=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Users",to:".."},{label:n}],action:a.a.createElement(Y,ye({id:t},l))}),a.a.createElement(me.a,{className:o.paper},a.a.createElement("div",{ref:s,className:o.card},a.a.createElement(fe.b,{onSubmit:u,initialValues:{email:n},subscription:{},mutators:{setFieldData:he.a},validate:Oe,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:u,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(be.d,{name:"email",label:"Email Address",autoFocus:!0,disabled:l.disabled}),a.a.createElement(be.a,{setFieldData:t.mutators.setFieldData,save:u,container:s}))))}}))),a.a.createElement(v.l,{selected:l["*"],tabs:[{label:"Roles",to:"roles"},{label:"Members",to:"members"}]}),i)}),Se=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Pe),ke=n(6264),xe=n.n(ke),Ne=n(375),Fe=n(6331),Ce=n.n(Fe),De=n(6332),Ae=Object(Ne.a)(function(e){return e.manage.roles.claims.entities.data},function(e){return e.manage.roles.claims.entities.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return xe()(t.map(function(t){return e[t]}))});function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Te(e,t,n[t])})}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{claims:[]},n=e.map(function(e){var n=t.claims.find(function(t){return t.entity===e.id});return void 0===n?{entity:e.id,right:0}:n});return Re({},t,{claims:n})},Be=function(e){return e.manage.roles.roles},Le=function(e){return e.manage.roles.roles.data},Ue=Object(Ne.a)(Le,Be,function(e,t){return t.rid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Re({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),Ve=Object(Ne.a)(Le,Ae,Be,function(e,t){return t.rid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Re({},n,Ie(t,r&&e[r]))}),Ge=Object(Ne.a)(Le,Be,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Re({},t,{roles:xe()(t.ids.map(function(t){return e[t]}))})});Object(Ne.a)(Le,Ae,Be,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return Re({},n,{roles:function(e,t){return e.map(function(e){return Ie(t,e)}).sort(function(e){return function(t,n){var r=t[e].toUpperCase(),a=n[e].toUpperCase();return r>a?1:r<a?-1:0}}("name"))}(xe()(n.ids.map(function(t){return e[t]})),t)})});function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Je(e,t,n[t])})}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(e){return function(t,n,r,a){if(null!==n){var c=Ce()(n.value.trim()).toLowerCase();t=t.filter(function(e){return e[n.property].slice(0,c.length).toLowerCase()===c})}return t.sort(function(e){var t=e.property,n=e.ascending;return{string:function(e,r){return n?e[t].localeCompare(r[t]):r[t].localeCompare(e[t])},number:function(e,r){return n?e[t]-r[t]:r[t]-e[t]},date:function(e,r){return n?Object(De.compareAsc)(e[t],r[t]):Object(De.compareDesc)(e[t],r[t])},boolean:function(e,t){return n?e===t?0:e?-1:1:e===t?0:e?1:-1}}}(a)[e[a.property]])}}({email:"string",isFixed:"boolean"}),ze=function(e){return e.manage.users.users},Qe=function(e){return e.manage.users.users.data},_e=Object(Ne.a)(Qe,ze,function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Me({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),He=Object(Ne.a)(Qe,Ge,ze,function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Me({},n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{roles:[]};return Me({},t,{roles:e.map(function(e){var n=void 0!==t.roles.find(function(t){return t===e.id});return Me({},e,{has:n})})})}(t.roles,e[r]))}),Ke=Object(Ne.a)(Qe,function(e){return e.manage.users.users.filter},function(e){return e.manage.users.users.page},function(e){return e.manage.users.users.sort},ze,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return Me({},a,{sort:r,users:qe(xe()(a.ids.map(function(t){return e[t]})),t,n,r)})}),We={save:s.h.start,lock:s.d.start,reset:s.g.start,remove:s.f.start,asc:s.i.asc,desc:s.i.desc,filter:s.c,page:s.e},Xe=Object(u.b)(function(e){return{users:Ke(e)}},We)(ue),Ye=n(68);function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ze(e,t,n[t])})}return e}({},_e(e,t))},{add:s.a.start,info:Ye.b})(Ee),et={save:s.h.start,reset:s.g.start,remove:s.f.start},tt=Object(u.b)(function(e,t){return _e(e,t)},et)(Se),nt=n(197),rt=n.n(nt),at=n(198),ct=n.n(at),ot=Object(r.memo)(function(e){var t=e.text;return a.a.createElement(ct.a,null,a.a.createElement(A.a,{primary:t}))}),it=Object(r.memo)(function(e){var t=e.to,n=e.primary;return a.a.createElement(ct.a,{button:!0,component:c.a,to:t},a.a.createElement(A.a,{primary:n}))}),lt=Object(r.memo)(function(e){var t=e.profiles,n=e.data,r=e.classes;return a.a.createElement(me.a,{className:r.paper},a.a.createElement("div",{className:r.card},a.a.createElement(rt.a,{className:r.root},0===n.length&&a.a.createElement(ot,{text:t.started?"Loading...":"No profiles"}),n.map(function(e){return a.a.createElement(it,{key:e.id,to:"../../../members/".concat(e.id,"/users"),primary:e.name})}))))}),ut=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(lt),st=Object(Ne.a)(function(e){return e.manage.profiles.profiles.data},function(e){return e.manage.users.profiles.ids},function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?xe()(t.map(function(t){return e[t]})):[]}),mt=Object(u.b)(function(e,t){return{user:_e(e,t),profiles:function(e){return e.manage.profiles.profiles}(e),data:st(e,t)}})(ut),ft=n(99),bt=Object(u.b)(null,{fetch:ft.a.start})(function(e){var t=e.uid,n=e.fetch,a=e.children;return Object(r.useEffect)(function(){t&&n({id:t})},[t]),a}),pt=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(bt,{path:"/"},a.a.createElement(mt,{path:"/"})))},dt=n(249),gt=n.n(dt),vt=Object(r.memo)(function(e){var t=e.user,n=e.save,r=e.classes;return a.a.createElement(me.a,{className:r.paper},a.a.createElement("div",{className:r.card},a.a.createElement(rt.a,{className:r.root},t.roles.map(function(e){return a.a.createElement(ct.a,{key:e.id,role:e.name,button:!t.disabled,onClick:function(){return function(e){return!t.disabled&&n({role:e,user:t})}(e)}},a.a.createElement(gt.a,{checked:e.has,disableRipple:!0,disabled:t.disabled}),a.a.createElement(A.a,{primary:e.name}))}))))}),Ot=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(vt),Et=n(371),ht=Object(u.b)(function(e,t){return{user:He(e,t),roles:Ge(e)}},{save:Et.a.start})(Ot),yt=n(28),jt=Object(u.b)(null,{fetch:yt.b.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n}),wt=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(jt,{path:"/"},a.a.createElement(ht,{path:"/"})))},Pt=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(m,{path:"/"},a.a.createElement(Xe,{path:"/"}),a.a.createElement($e,{path:"register"}),a.a.createElement(tt,{path:":uid"},a.a.createElement(wt,{path:"roles/*"}),a.a.createElement(pt,{path:"members/*"})),a.a.createElement(c.e,{from:":uid",to:"/manage/users/:uid/roles",noThrow:!0})))},St=n(101),kt=n(100),xt=Object(u.b)(null,{fetch:yt.b.start,permissions:kt.a.start,entities:St.a.start})(function(e){var t=e.fetch,n=e.permissions,a=e.entities,c=e.children;return Object(r.useEffect)(function(){n()},[]),Object(r.useEffect)(function(){a()},[]),Object(r.useEffect)(function(){t()},[]),c});function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ft(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ct=function(e){var t=e.isArchived,n=e.handleArchive,r=e.disabled;return a.a.createElement(k.a,{onClick:n,disabled:r},a.a.createElement(W.a,{title:t?"restore role":"archive role"},t?a.a.createElement(g.u,null):a.a.createElement(g.h,null)))},Dt=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(H.a,{"aria-label":"Role",className:n.avatar,color:"secondary"},a.a.createElement(g.w,null)))},At=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.classes,o=Ft(e,["id","name","classes"]);return a.a.createElement(M.a,{className:V()(o.isArchived&&r.archived)},a.a.createElement(q.a,{avatar:a.a.createElement(Dt,{id:t,classes:r}),title:a.a.createElement(c.a,{to:"".concat(t),className:r.link},n)}),a.a.createElement(Q.a,{disableActionSpacing:!0},a.a.createElement(Ct,Nt({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),Rt=w()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(At);function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function It(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Bt=Object(r.memo)(function(e){var t=e.roles,n=It(e,["roles"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Roles"}],action:a.a.createElement(v.a,{label:"Add Role",Icon:g.b,to:"add"})}),a.a.createElement(p.a,{container:!0,spacing:24},t.roles.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(Rt,Tt({},e,n)))})))}),Lt=n(6323),Ut=n(6324),Vt=ge()(10)(Object(ve.a)({name:[Object(ve.c)()]}));function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mt=w()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.claims,n=e.error,r=e.started,c=e.entities,o=e.permissions,i=e.add,l=e.info,u=e.classes,s=Object(pe.b)(i,{redirectTo:"/manage/roles",onSuccess:function(){return l("The role has been added")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Roles",to:".."},{label:"Add"}]}),a.a.createElement(me.a,{className:u.paper},a.a.createElement(fe.b,{onSubmit:s,validate:Vt,initialValues:{claims:t},mutators:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gt(e,t,n[t])})}return e}({},Lt.a),render:function(e){var n=e.handleSubmit,i=e.pristine;return a.a.createElement("form",{onSubmit:n,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(be.d,{name:"name",label:"Role Name",autoFocus:!0})),a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Ut.a,{name:"claims"},function(e){return e.fields.map(function(e,n){return a.a.createElement(be.g,{key:n,name:"".concat(e,".right"),label:c.find(function(e){return e.id===t[n].entity}).name,data:o})})})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(be.h,{disabled:i||r},"Add Role"))))}}),n&&a.a.createElement(be.e,n)))}));function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var zt=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.rid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=qt(e,["rid","name","disabled","save","classes","children"]),s=function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Jt(e,t,n[t])})}return e}({id:t},e))},m=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Roles",to:".."},{label:n}]}),a.a.createElement(me.a,{className:i.paper},a.a.createElement("div",{ref:m,className:i.card},a.a.createElement(fe.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:he.a},validate:Vt,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:s,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(be.d,{name:"name",label:"Role Name",autoFocus:!0,disabled:c}),a.a.createElement(be.a,{setFieldData:t.mutators.setFieldData,save:s,container:m}))))}}))),a.a.createElement(v.l,{selected:u["*"],tabs:[{label:"Claims",to:"claims"}]}),l)})),Qt=Object(u.b)(function(e){return{roles:Ge(e)}},{save:yt.d.start,remove:yt.c.start})(Bt),_t=Object(Ne.a)(function(e){return e.manage.roles.claims.permissions.data},function(e){return e.manage.roles.claims.permissions.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return xe()(t.map(function(t){return e[t]}))});function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ht(e,t,n[t])})}return e}({},Ve(e,t),{entities:Ae(e),permissions:_t(e)})},{add:yt.a.start,info:Ye.b})(Mt),Wt=Object(u.b)(function(e,t){return Ue(e,t)},{save:yt.d.start,remove:yt.c.start})(zt);function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yt(e,t,n[t])})}return e}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=Object(r.memo)(function(e){var t=e.role,n=e.save,c=e.permissions,o=e.entities,i=e.classes,l=function(e){return!t.disabled&&n(Xt({},t,e))},u=Object(r.createRef)();if(0!==t.claims.length)return a.a.createElement(me.a,{className:i.paper},a.a.createElement("div",{ref:u,className:i.card},a.a.createElement(fe.b,{onSubmit:l,initialValues:{claims:t.claims},subscription:{},mutators:Xt({},Lt.a,{setFieldData:he.a}),render:function(e){var n=e.form;return a.a.createElement("form",{autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(be.a,{setFieldData:n.mutators.setFieldData,save:l,container:u}),a.a.createElement(Ut.a,{name:"claims"},function(e){return e.fields.map(function(e,n){return a.a.createElement(be.g,{key:n,disabled:t.disabled,name:"".concat(e,".right"),label:o.find(function(e){return e.id===t.claims[n].entity}).name,data:c})})}))))}})))}),$t=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Zt),en=Object(u.b)(function(e,t){return{role:Ve(e,t),entities:Ae(e),permissions:_t(e)}},{save:yt.d.start})($t),tn=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(en,{path:"/"}))},nn=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(xt,{path:"/"},a.a.createElement(Qt,{path:"/"}),a.a.createElement(Kt,{path:"add"}),a.a.createElement(Wt,{path:":rid"},a.a.createElement(tn,{path:"claims/*"})),a.a.createElement(c.e,{from:":rid",to:"/manage/roles/:rid/claims",noThrow:!0})))},rn=n(29),an=Object(u.b)(null,{fetch:rn.b.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n});function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var on=Object(r.memo)(function(e){return a.a.createElement(v.b,cn({actions:function(e){var t=e.id,n=e.remove;return[{label:"Add Child Group",to:"/manage/groups/".concat(t,"/groups/add")},{label:"Upload Photo",to:"/manage/groups/".concat(t,"/photos/upload")},{label:"Archive",action:function(){return n({id:t})}}]}(e)},e))});function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function un(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var sn=function(e){var t=e.isArchived,n=e.handleArchive,r=e.disabled;return a.a.createElement(k.a,{onClick:n,disabled:r},a.a.createElement(W.a,{title:t?"restore group":"archive group"},t?a.a.createElement(g.u,null):a.a.createElement(g.h,null)))},mn=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(H.a,{"aria-label":"Group",className:n.avatar,color:"secondary"},a.a.createElement(g.x,null)))},fn=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.classes,o=un(e,["id","name","classes"]);return a.a.createElement(M.a,{className:V()(o.isArchived&&r.archived)},a.a.createElement(q.a,{avatar:a.a.createElement(mn,{id:t,classes:r}),action:a.a.createElement(on,ln({id:t},o)),title:a.a.createElement(c.a,{to:"".concat(t),className:r.link},n)}),a.a.createElement(Q.a,{disableActionSpacing:!0},a.a.createElement(sn,ln({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),bn=w()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(fn);function pn(){return(pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var gn=Object(r.memo)(function(e){var t=e.groups,n=dn(e,["groups"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Groups"}],action:a.a.createElement(v.a,{label:"Add Group",Icon:g.b,to:"add"})}),a.a.createElement(p.a,{container:!0,spacing:24},t.groups.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(bn,pn({},e,n)))})))}),vn=ge()(10)(Object(ve.a)({name:[Object(ve.c)()]})),On=w()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.error,n=e.started,r=e.add,c=e.info,o=e.classes,i=Object(pe.b)(r,{redirectTo:"/manage/groups",onSuccess:function(){return c("The group has been added")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Groups",to:".."},{label:"Add Group"}]}),a.a.createElement(me.a,{className:o.paper},a.a.createElement(fe.b,{onSubmit:i,validate:vn,render:function(e){var t=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(be.d,{name:"name",label:"Group Name",autoFocus:!0})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(be.h,{disabled:r||n},"Add Group"))))}}),t&&a.a.createElement(be.e,t)))}));function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var yn=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.gid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=hn(e,["gid","name","disabled","save","classes","children"]),s=function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){En(e,t,n[t])})}return e}({id:t},e))},m=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Groups",to:".."},{label:n}],action:a.a.createElement(on,{id:t})}),a.a.createElement(me.a,{className:i.paper},a.a.createElement("div",{ref:m,className:i.card},a.a.createElement(fe.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:he.a},validate:vn,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:s,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(be.d,{name:"name",label:"Group Name",autoFocus:!0,disabled:c}),a.a.createElement(be.a,{setFieldData:t.mutators.setFieldData,save:s,container:m}))))}}))),a.a.createElement(v.l,{selected:u["*"],tabs:[{label:"Children",to:"groups"}]}),l)}));function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wn(e,t,n[t])})}return e}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pn=function(e){return e.manage.groups.groups},Sn=function(e){return e.manage.groups.groups.data},kn=Object(Ne.a)(Sn,Pn,function(e,t){return t.gid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=e[n];return void 0===r?jn({},t):jn({},t,r,{groups:r.groups.map(function(t){return e[t]})})}),xn=Object(Ne.a)(Sn,Pn,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return jn({},t,{groups:xe()(t.ids.map(function(t){return e[t]}))})}),Nn=Object(u.b)(function(e){return{groups:xn(e)}},{save:rn.d.start,remove:rn.c.start})(gn);function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cn=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fn(e,t,n[t])})}return e}({},kn(e,t))},{add:rn.a.start,info:Ye.b})(On),Dn=Object(u.b)(function(e,t){return kn(e,t)},{save:rn.d.start,remove:rn.c.start})(yn),An=Object(r.memo)(function(e){var t=e.primary;return a.a.createElement(ct.a,null,a.a.createElement(A.a,{primary:t}))}),Rn=Object(r.memo)(function(e){var t=e.to,n=e.primary;return a.a.createElement(ct.a,{button:!0,component:c.a,to:t},a.a.createElement(A.a,{primary:n}))}),Tn=Object(r.memo)(function(e){var t=e.group,n=e.classes,r=t.groups;if(void 0!==r)return a.a.createElement(me.a,{className:n.paper},a.a.createElement("div",{className:n.card},a.a.createElement(rt.a,{className:n.root},0===r.length&&a.a.createElement(An,{primary:"No children"}),r.map(function(e){return a.a.createElement(Rn,{key:e.id,to:"../../".concat(e.id),primary:e.name})}))))}),In=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(Tn),Bn=Object(u.b)(function(e,t){return{group:kn(e,t)}})(In),Ln=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(Bn,{path:"/"}))},Un=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(an,{path:"/"},a.a.createElement(Nn,{path:"/"}),a.a.createElement(Cn,{path:"add"}),a.a.createElement(Dn,{path:":gid"},a.a.createElement(Ln,{path:"groups/*"})),a.a.createElement(c.e,{from:":gid",to:"/manage/groups/:gid/groups",noThrow:!0})))},Vn=n(30),Gn=Object(u.b)(null,{fetch:Vn.b.start})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n});function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Jn=Object(r.memo)(function(e){return a.a.createElement(v.b,Mn({actions:function(e){var t=e.id,n=e.remove;return[{label:"Add User",to:"/manage/members/".concat(t,"/users/add")},{label:"Upload Photo",to:"/manage/members/".concat(t,"/photos/upload")},{label:"Add a Contact",to:"/manage/members/".concat(t,"/contacts/add")},{label:"Archive",action:function(){return n({id:t})}}]}(e)},e))});function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Qn=function(e){var t=e.isArchived,n=e.handleArchive,r=e.disabled;return a.a.createElement(k.a,{onClick:n,disabled:r},a.a.createElement(W.a,{title:t?"restore member":"archive member"},t?a.a.createElement(g.u,null):a.a.createElement(g.h,null)))},_n=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(H.a,{"aria-label":"Profile",className:n.avatar,color:"secondary"},a.a.createElement(g.l,null)))},Hn=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.classes,o=zn(e,["id","name","classes"]);return a.a.createElement(M.a,{className:V()(o.isArchived&&r.archived)},a.a.createElement(q.a,{avatar:a.a.createElement(_n,{id:t,classes:r}),action:a.a.createElement(Jn,qn({id:t},o)),title:a.a.createElement(c.a,{to:"".concat(t),className:r.link},n)}),a.a.createElement(Q.a,{disableActionSpacing:!0},a.a.createElement(Qn,qn({handleArchive:function(){return!o.disabled&&o.remove({id:t})}},o))))}),Kn=w()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(Hn);function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Yn=Object(r.memo)(function(e){var t=e.profiles,n=Xn(e,["profiles"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Members"}],action:a.a.createElement(v.a,{label:"Register",Icon:g.b,to:"register"})}),a.a.createElement(p.a,{container:!0,spacing:24},t.profiles.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(Kn,Wn({},e,n)))})))}),Zn=ge()(10)(Object(ve.a)({name:[Object(ve.c)()]})),$n=w()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.error,n=e.started,r=e.add,c=e.info,o=e.classes,i=Object(pe.b)(r,{redirectTo:"/manage/members",onSuccess:function(){return c("The member has been registered")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Members",to:".."},{label:"Register"}]}),a.a.createElement(me.a,{className:o.paper},a.a.createElement(fe.b,{onSubmit:i,validate:Zn,render:function(e){var t=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(be.d,{name:"name",label:"Name",autoFocus:!0})),a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(be.d,{name:"email",label:"Email Address"})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(be.h,{disabled:r||n},"Register Member"))))}}),t&&a.a.createElement(be.e,t)))}));function er(){return(er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var rr=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.pid,n=e.name,c=e.disabled,o=e.save,i=e.classes,l=e.children,u=nr(e,["pid","name","disabled","save","classes","children"]),s=function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tr(e,t,n[t])})}return e}({id:t},e))},m=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.d,{parts:[{label:"Members",to:".."},{label:n}],action:a.a.createElement(Jn,er({id:t},u))}),a.a.createElement(me.a,{className:i.paper},a.a.createElement("div",{ref:m,className:i.card},a.a.createElement(fe.b,{onSubmit:s,initialValues:{name:n},subscription:{},mutators:{setFieldData:he.a},validate:Zn,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:s,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(be.d,{name:"name",label:"Name",autoFocus:!0,disabled:c}),a.a.createElement(be.a,{setFieldData:t.mutators.setFieldData,save:s,container:m}))))}}))),a.a.createElement(v.l,{selected:u["*"],tabs:[{label:"Users",to:"users"},{label:"Photos",to:"photos"},{label:"Contacts",to:"contacts"},{label:"Notes",to:"notes"}]}),l)}));function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){cr(e,t,n[t])})}return e}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or=function(e){return e.manage.profiles.profiles},ir=function(e){return e.manage.profiles.profiles.data},lr=Object(Ne.a)(ir,or,function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ar({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),ur=Object(Ne.a)(ir,or,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return ar({},t,{profiles:xe()(t.ids.map(function(t){return e[t]}))})}),sr=Object(u.b)(function(e){return{profiles:ur(e)}},{save:Vn.d.start,remove:Vn.c.start})(Yn);function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fr=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){mr(e,t,n[t])})}return e}({},lr(e,t))},{add:Vn.a.start,info:Ye.b})($n),br=Object(u.b)(function(e,t){return lr(e,t)},{save:Vn.d.start,remove:Vn.c.start})(rr),pr=n(102),dr=Object(u.b)(null,{fetch:pr.a.start})(function(e){var t=e.pid,n=e.fetch,a=e.children;return Object(r.useEffect)(function(){t&&n({id:t})},[t]),a}),gr=Object(r.memo)(function(e){var t=e.text;return a.a.createElement(ct.a,null,a.a.createElement(A.a,{primary:t}))}),vr=Object(r.memo)(function(e){var t=e.to,n=e.primary;return a.a.createElement(ct.a,{button:!0,component:c.a,to:t},a.a.createElement(A.a,{primary:n}))}),Or=Object(r.memo)(function(e){var t=e.users,n=e.data,r=e.classes;return a.a.createElement(me.a,{className:r.paper},a.a.createElement("div",{className:r.card},a.a.createElement(rt.a,null,0===n.length&&a.a.createElement(gr,{text:t.started?"Loading...":"No users"}),n.map(function(e){return a.a.createElement(vr,{key:e.id,to:"../../../users/".concat(e.id,"/members"),primary:e.email})}))))}),Er=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit}}})(Or),hr=Object(Ne.a)(function(e){return e.manage.users.users.data},function(e){return e.manage.profiles.users.users.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?xe()(t.map(function(t){return e[t]})):[]}),yr=Object(u.b)(function(e,t){return{profile:lr(e,t),users:function(e){return e.manage.users.users}(e),data:hr(e,t)}})(Er),jr=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(dr,{path:"/"},a.a.createElement(yr,{path:"/"})))},wr=n(39),Pr=n(103),Sr=Object(u.b)(null,{fetch:wr.b.start,classifiers:Pr.a.start})(function(e){var t=e.pid,n=e.fetch,a=e.classifiers,c=e.children;return Object(r.useEffect)(function(){a()},[]),Object(r.useEffect)(function(){t&&n({id:t})},[t]),c}),kr=n(534),xr=n.n(kr),Nr=n(535),Fr=n.n(Nr),Cr=n(378),Dr=n.n(Cr),Ar=n(533),Rr=n.n(Ar);function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ir=Object(r.memo)(function(e){return a.a.createElement(v.b,Tr({actions:function(e){var t=e.profile,n=e.contact,r=e.remove;return[{label:"Edit",to:"/manage/members/".concat(t.id,"/contacts/").concat(n.id)},{label:"Delete",action:function(){return r({profile:t,contact:n})}}]}(e)},e))}),Br=Object(r.memo)(function(e){var t=e.text;e.classes;return a.a.createElement(rt.a,null,a.a.createElement(ct.a,null,a.a.createElement(A.a,{primary:t})))}),Lr=Object(r.memo)(function(e){var t=e.profile,n=e.contacts,r=e.data,c=(e.fetch,e.remove),o=e.classes,i=[{name:"classifier",cell:function(e){var t=e.classifier;return{email:a.a.createElement(Dr.a,null),phone:a.a.createElement(Rr.a,null),address:a.a.createElement(xr.a,null),url:a.a.createElement(Fr.a,null)}[t]},width:60,cellProps:{style:{paddingRight:0}}},{name:"value",cell:function(e){var t=e.classifier,n=e.value;return{email:n.email,phone:n.phone,address:"".concat(n.street," ").concat(n.city," ").concat(n.postcode),url:n.url}[t]},cellProps:{style:{fontSize:"1rem",paddingRight:0}}},{name:"actions",cell:function(e){return a.a.createElement(Ir,{contact:e,profile:t,remove:c})},width:100,cellProps:{align:"right"}}];return a.a.createElement(me.a,{className:o.paper},a.a.createElement("div",{className:o.card},0===r.length&&a.a.createElement(Br,{text:n.started?"Loading...":"No contacts"}),r.length>0&&a.a.createElement(v.m,{data:r,columns:i})))}),Ur=w()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{backgroundColor:"#fff"}}})(Lr),Vr={address:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(be.d,{name:"value.street",label:"Street",autoFocus:!0}),a.a.createElement(be.d,{name:"value.city",label:"City"}),a.a.createElement(be.d,{name:"value.postcode",label:"Postcode"}))},email:function(e){return a.a.createElement(be.d,{name:"value.email",label:"Email Address",autoFocus:!0})},phone:function(e){return a.a.createElement(be.d,{name:"value.phone",label:"Phone Number",autoFocus:!0})},url:function(e){return a.a.createElement(be.d,{name:"value.url",label:"URL",autoFocus:!0})}},Gr=ge()(10)(Object(ve.a)({value:[Object(ve.c)()]}));function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr=w()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.error,r=e.started,c=e.add,o=e.info,i=e.classifiers,l=e.classes,u="/manage/members/".concat(t.id,"/contacts"),s=Object(pe.b)(function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mr(e,t,n[t])})}return e}({id:t.id},e))},{redirectTo:u,onSuccess:function(){return o("The contact has been added")}});return a.a.createElement(me.a,{className:l.paper},a.a.createElement(fe.b,{onSubmit:s,initialValues:{classifier:"email"},validate:Gr,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:3},a.a.createElement(be.g,{name:"classifier",label:"Contact Type",data:i})),a.a.createElement(p.a,{item:!0,xs:12,sm:9},a.a.createElement(fe.a,{name:"classifier",subscription:{value:!0}},function(e){var t=e.input.value,n=Vr[t];return a.a.createElement(n,null)})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(be.h,{disabled:n||r},"Add Contact"))))}}),n&&a.a.createElement(be.e,n))}));function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zr=w()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.profile,n=e.contact,r=e.started,c=e.error,o=e.save,i=e.info,l=e.classifiers,u=e.classes,s="/manage/members/".concat(t.id,"/contacts"),m=Object(pe.b)(function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qr(e,t,n[t])})}return e}({},e,{profile:t}))},{redirectTo:s,onSuccess:function(){return i("The ".concat(n.classifier," has been updated"))}});return void 0===n?null:a.a.createElement(me.a,{className:u.paper},a.a.createElement(fe.b,{onSubmit:m,initialValues:n,validate:Gr,render:function(e){var t=e.handleSubmit,n=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:3},a.a.createElement(be.g,{name:"classifier",label:"Contact Type",data:l,disabled:!0})),a.a.createElement(p.a,{item:!0,xs:12,sm:9},a.a.createElement(fe.a,{name:"classifier",subscription:{value:!0}},function(e){var t=e.input.value,n=Vr[t];return a.a.createElement(n,null)})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(be.h,{disabled:n||r},"Save Contact"))))}}),c&&a.a.createElement(be.e,c))})),Qr=n(6435),_r=n.n(Qr),Hr=function(e){return e.manage.profiles.contacts.contacts.data},Kr=Object(Ne.a)(Hr,function(e){return e.manage.profiles.contacts.contacts.ids},function(e,t){return t.pid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(t=t[arguments.length>2?arguments[2]:void 0])?xe()(t.map(function(t){return e[t]})):[]}),Wr=Object(Ne.a)(Hr,function(e,t){return t.cid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t&&_r()(e,function(e){return e.id===parseInt(t,10)})}),Xr=Object(u.b)(function(e,t){return{profile:lr(e,t),data:Kr(e,t),contacts:function(e){return e.manage.profiles.contacts.contacts}(e)}},{fetch:wr.b.start,remove:wr.c.start})(Ur),Yr=Object(Ne.a)(function(e){return e.manage.profiles.contacts.classifiers.data},function(e){return e.manage.profiles.contacts.classifiers.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return xe()(t.map(function(t){return e[t]}))}),Zr=Object(u.b)(function(e,t){return{profile:lr(e,t),classifiers:Yr(e)}},{add:wr.a.start,info:Ye.b})(Jr),$r=Object(u.b)(function(e,t){return{profile:lr(e,t),contact:Wr(e,t),classifiers:Yr(e)}},{save:wr.d.start,info:Ye.b})(zr),ea=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(Sr,{path:"/"},a.a.createElement(Xr,{path:"/"}),a.a.createElement(Zr,{path:"add"}),a.a.createElement($r,{path:":cid"})))},ta=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(Gn,{path:"/"},a.a.createElement(sr,{path:"/"}),a.a.createElement(fr,{path:"register"}),a.a.createElement(br,{path:":pid"},a.a.createElement(jr,{path:"users/*"}),a.a.createElement(ea,{path:"contacts/*"})),a.a.createElement(c.e,{from:":pid",to:"/manage/members/:pid/users",noThrow:!0})))};t.default=Object(o.a)(function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(l,{path:"/"},a.a.createElement(Pt,{path:"users/*"}),a.a.createElement(nn,{path:"roles/*"}),a.a.createElement(Un,{path:"groups/*"}),a.a.createElement(ta,{path:"members/*"})))})}}]);