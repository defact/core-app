(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{6034:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(52),o=n(28),i=n(73);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=function(e){return Object(c.b)(function(e){return{me:Object(i.a)(e)}})(function(t){var n=t.me,c=u(t,["me"]),i=n.id,s=n.isFetching;return Object(r.useEffect)(function(){if(!i&&!s)return Object(o.h)("/signin")},[i,s]),a.a.createElement(e,l({},c,{me:n}))})};n.d(t,"a",function(){return s})},6043:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(28),o=n(6034),i=n(91),l=function(e){var t=e.children;return a.a.createElement(i.b,null,t)},u=n(52),s=n(13),m=Object(u.b)(null,{fetch:s.l})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n}),f=n(15),b=n(97),p=n.n(b),d=n(49),v=(n(3),n(8)),g=n.n(v),E=n(6029),O=n.n(E),h=n(6030),y=n.n(h),j=n(6031),w=n.n(j),P=n(282),S=n.n(P),k=n(92),F=n.n(k),D=n(6028),x=n.n(D),C=n(283),N=n.n(C),A=n(193),R=n(4),I=n.n(R);function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=function(e){var t=e.isLocked,n=e.handleLock;return a.a.createElement(F.a,{onClick:n},a.a.createElement(x.a,{title:t?"unlock user":"lock user"},t?a.a.createElement(f.n,null):a.a.createElement(f.o,null)))},V=function(e){var t=e.id,n=Object(A.usePopupState)({variant:"popover",popupId:t});return a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a,G({variant:"contained",color:"inherit"},Object(A.bindTrigger)(n)),a.a.createElement(f.r,null)),a.a.createElement(N.a,Object(A.bindMenu)(n),a.a.createElement(d.g,{to:"".concat(t,"/profile"),onClick:n.close},"Profile"),a.a.createElement(d.g,{to:"".concat(t,"/roles"),onClick:n.close},"Manage Roles"),a.a.createElement(d.g,{to:"".concat(t,"/roles"),onClick:n.close},"Reset Password"),a.a.createElement(d.g,{to:"".concat(t,"/roles"),onClick:n.close},"Archive")))},B=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(S.a,{"aria-label":"User",className:n.avatar,color:"secondary"},a.a.createElement(f.h,null)))},U=function(e){var t=e.classes,n=e.isVerified;return a.a.createElement("span",{className:g()(!n&&t.unverified)},n?null:"unverified")},M=Object(r.memo)(function(e){var t=e.id,n=e.email,r=e.isLocked,o=e.isVerified,i=(e.save,e.lock),l=e.classes;return a.a.createElement(O.a,{className:g()(r&&l.locked)},a.a.createElement(y.a,{avatar:a.a.createElement(B,{id:t,classes:l}),action:a.a.createElement(V,{id:t}),title:a.a.createElement(c.a,{to:"".concat(t),className:l.link},n," ",a.a.createElement(U,{classes:l,isVerified:o}))}),a.a.createElement(w.a,{disableActionSpacing:!0},a.a.createElement(T,{handleLock:function(){return i({id:t})},isLocked:r})))}),L=I()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},locked:{opacity:.5},unverified:{color:e.palette.error.main},link:{textDecoration:"none",color:"inherit"}}})(M);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var z=Object(r.memo)(function(e){var t=e.users,n=q(e,["users"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{parts:[{label:"Users"}],actions:[{label:"Register",Icon:f.b,to:"register"}]}),a.a.createElement(p.a,{container:!0,spacing:24},t.users.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(L,J({},e,n)))})))}),H=n(86),K=n.n(H),Q=n(42),W=n.n(Q),X=n(54),Y=n(151),Z=n(281),$=n(280),_=n.n($),ee=n(222),te=_()(10)(Object(ee.a)({email:[Object(ee.c)(),Object(ee.b)()]})),ne=I()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.error,n=e.isSaving,r=e.add,c=e.classes,o=Object(Z.a)(r),i=o.handleSubmit,l=o.Dialog;return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{parts:[{label:"Users",to:".."},{label:"Register"}]}),a.a.createElement(K.a,{className:c.paper},a.a.createElement(X.b,{onSubmit:i,validate:te,render:function(e){var t=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.d,{name:"email",label:"Email Address",autoFocus:!0})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(W.a,{type:"submit",variant:"contained",color:"secondary",disabled:r||n},"Register User"))))}}),a.a.createElement(l,{error:t,message:"The user has been added"})))})),re=n(6026);function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=I()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.uid,n=e.email,c=e.save,o=(e.select,e.classes),i=e.children,l=function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ae(e,t,n[t])})}return e}({id:t},e))},u=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{parts:[{label:"Users",to:".."},{label:n}]}),a.a.createElement(K.a,{className:o.paper},a.a.createElement("div",{ref:u,className:o.card},a.a.createElement(X.b,{onSubmit:l,initialValues:{email:n},subscription:{},mutators:{setFieldData:re.a},validate:te,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:l,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.d,{name:"email",label:"Email Address",autoFocus:!0}),a.a.createElement(Y.a,{setFieldData:t.mutators.setFieldData,save:l,container:u}))))}}))),a.a.createElement(d.i,{tabs:[{label:"Roles",to:"roles"},{label:"Profiles",to:"profiles"}]}),i)})),oe=n(6032),ie=n(6033);function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var se=Object(r.memo)(function(e){var t=e.user,n=e.fetch,c=e.save,o=e.classes;ue(e,["user","fetch","save","classes"]);Object(r.useEffect)(function(){n()},[]);var i=function(e){e.roles.filter(function(e){return t.roles.find(function(t){return t.id===e.id}).has!==e.has}).forEach(function(e){return c({user:t,role:e})})};return a.a.createElement(K.a,{className:o.paper},a.a.createElement("div",{className:o.card},a.a.createElement(X.b,{onSubmit:i,initialValues:{roles:t.roles},subscription:{},mutators:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){le(e,t,n[t])})}return e}({},oe.a,{setFieldData:re.a}),render:function(e){var n=e.form;return a.a.createElement("form",{autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:0},a.a.createElement(Y.a,{setFieldData:n.mutators.setFieldData,save:i},"Saving..."),a.a.createElement(ie.a,{name:"roles"},function(e){return e.fields.map(function(e,n){return a.a.createElement(p.a,{key:n,item:!0,xs:12},a.a.createElement(Y.b,{name:"".concat(e,".has"),label:"".concat(t.roles[n].name)}))})})))}})))}),me=I()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(se),fe=n(6027),be=n.n(fe),pe=n(279),de=Object(pe.a)(function(e){return e.app.entities.entities},function(e){return e.manage.roles.entities.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return be()(t.map(function(t){return e[t]}))});function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ge(e,t,n[t])})}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{claims:[]},n=e.map(function(e){var n=t.claims.find(function(t){return t.entity===e.id});return void 0===n?{entity:e.id,right:0}:n});return ve({},t,{claims:n})},Oe=function(e){return e.app.entities.roles},he=function(e){return e.manage.roles.roles},ye=Object(pe.a)(Oe,he,function(e,t){return t.rid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ve({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),je=Object(pe.a)(Oe,de,he,function(e,t){return t.rid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return ve({},n,Ee(t,r&&e[r]))}),we=Object(pe.a)(Oe,he,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return ve({},t,{roles:be()(t.ids.map(function(t){return e[t]}))})});Object(pe.a)(Oe,de,he,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return ve({},n,{roles:function(e,t){return e.map(function(e){return Ee(t,e)}).sort(function(e){return function(t,n){var r=t[e].toUpperCase(),a=n[e].toUpperCase();return r>a?1:r<a?-1:0}}("name"))}(be()(n.ids.map(function(t){return e[t]})),t)})});function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Se(e,t,n[t])})}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(e){return e.app.entities.users},Fe=function(e){return e.manage.users.users},De=Object(pe.a)(ke,Fe,function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Pe({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),xe=Object(pe.a)(ke,we,Fe,function(e,t){return t.uid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Pe({},n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{roles:[]};return Pe({},t,{roles:e.map(function(e){var n=void 0!==t.roles.find(function(t){return t===e.id});return Pe({},e,{has:n})})})}(t.roles,e[r]))}),Ce=Object(pe.a)(ke,Fe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Pe({},t,{users:be()(t.ids.map(function(t){return e[t]}))})}),Ne=Object(u.b)(function(e){return{users:Ce(e)}},{save:s.p,lock:s.o})(z),Ae=Object(u.b)(null,{add:s.i})(ne),Re=Object(u.b)(function(e,t){return De(e,t)},{save:s.p})(ce),Ie=n(17),Ge=n(384),Te=Object(u.b)(function(e,t){return{user:xe(e,t),roles:we(e)}},{fetch:Ie.i,save:Ge.b})(me),Ve=function(e){return a.a.createElement("div",null,"Profiles ",e.uri)},Be=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(m,{path:"/"},a.a.createElement(Ne,{path:"/"}),a.a.createElement(Ae,{path:"register"}),a.a.createElement(Re,{path:":uid"},a.a.createElement(Te,{path:"roles"}),a.a.createElement(Ve,{path:"profiles"})),a.a.createElement(c.e,{from:":uid",to:"/manage/users/:uid/roles",noThrow:!0})))},Ue=n(51),Me=n(50),Le=Object(u.b)(null,{fetch:Ie.i,fetchPermissions:Me.e,fetchEntities:Ue.d})(function(e){var t=e.fetch,n=e.fetchPermissions,a=e.fetchEntities,c=e.children;return Object(r.useEffect)(function(){a()},[]),Object(r.useEffect)(function(){n()},[]),Object(r.useEffect)(function(){t()},[]),c});function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var qe=function(e){var t=e.isArchived,n=e.handleArchive;return a.a.createElement(F.a,{onClick:n},a.a.createElement(x.a,{title:t?"restore role":"archive role"},t?a.a.createElement(f.t,null):a.a.createElement(f.f,null)))},ze=function(e){var t=e.id,n=Object(A.usePopupState)({variant:"popover",popupId:t});return a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a,Je({variant:"contained",color:"inherit"},Object(A.bindTrigger)(n)),a.a.createElement(f.r,null)),a.a.createElement(N.a,Object(A.bindMenu)(n),a.a.createElement(d.g,{to:"".concat(t,"/profile"),onClick:n.close},"Profile"),a.a.createElement(d.g,{to:"".concat(t,"/roles"),onClick:n.close},"Manage Roles"),a.a.createElement(d.g,{to:"".concat(t,"/roles"),onClick:n.close},"Reset Password"),a.a.createElement(d.g,{to:"".concat(t,"/roles"),onClick:n.close},"Archive")))},He=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(S.a,{"aria-label":"Role",className:n.avatar,color:"secondary"},a.a.createElement(f.v,null)))},Ke=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.isArchived,o=void 0!==r&&r,i=(e.save,e.archive,e.classes);return a.a.createElement(O.a,{className:g()(o&&i.archived)},a.a.createElement(y.a,{avatar:a.a.createElement(He,{id:t,classes:i}),action:a.a.createElement(ze,{id:t}),title:a.a.createElement(c.a,{to:"".concat(t),className:i.link},n," ")}),a.a.createElement(w.a,{disableActionSpacing:!0},a.a.createElement(qe,{handleArchive:function(){return console.log(t)},isArchived:o})))}),Qe=I()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(Ke);function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ye=Object(r.memo)(function(e){var t=e.roles,n=Xe(e,["roles"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{parts:[{label:"Roles"}],actions:[{label:"Add Role",Icon:f.b,to:"add"}]}),a.a.createElement(p.a,{container:!0,spacing:24},t.roles.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(Qe,We({},e,n)))})))}),Ze=_()(10)(Object(ee.a)({name:[Object(ee.c)()]}));function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=I()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.claims,n=e.error,r=e.isSaving,c=e.entities,o=e.permissions,i=e.add,l=e.classes,u=Object(Z.a)(i),s=u.handleSubmit,m=u.Dialog;return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{parts:[{label:"Roles",to:".."},{label:"Add"}]}),a.a.createElement(K.a,{className:l.paper},a.a.createElement(X.b,{onSubmit:s,validate:Ze,initialValues:{claims:t},mutators:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$e(e,t,n[t])})}return e}({},oe.a),render:function(e){var n=e.handleSubmit,i=e.pristine;return a.a.createElement("form",{onSubmit:n,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.d,{name:"name",label:"Role Name",autoFocus:!0})),a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(ie.a,{name:"claims"},function(e){return e.fields.map(function(e,n){return a.a.createElement(Y.g,{key:n,name:"".concat(e,".right"),label:c.find(function(e){return e.id===t[n].entity}).name,data:o})})})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(W.a,{type:"submit",variant:"contained",color:"secondary",disabled:i||r},"Add Role"))))}}),a.a.createElement(m,{error:n,message:"The role has been added"})))}));n(87);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=I()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.rid,n=e.name,c=e.save,o=e.classes,i=e.children,l=function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){et(e,t,n[t])})}return e}({id:t},e))},u=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{parts:[{label:"Roles",to:".."},{label:n}]}),a.a.createElement(K.a,{className:o.paper},a.a.createElement("div",{ref:u,className:o.card},a.a.createElement(X.b,{onSubmit:l,initialValues:{name:n},subscription:{},mutators:{setFieldData:re.a},validate:Ze,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:l,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.d,{name:"name",label:"Role Name",autoFocus:!0}),a.a.createElement(Y.a,{setFieldData:t.mutators.setFieldData,save:l,container:u}))))}}))),a.a.createElement(d.i,{tabs:[{label:"Claims",to:"claims"}]}),i)}));function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=Object(r.memo)(function(e){var t=e.role,n=e.save,c=e.permissions,o=e.entities,i=e.classes,l=function(e){return n(nt({},t,e))},u=Object(r.createRef)();return a.a.createElement(K.a,{className:i.paper},a.a.createElement("div",{ref:u,className:i.card},a.a.createElement(X.b,{onSubmit:l,initialValues:{claims:t.claims},subscription:{},mutators:nt({},oe.a,{setFieldData:re.a}),render:function(e){var n=e.form;return a.a.createElement("form",{autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.a,{setFieldData:n.mutators.setFieldData,save:l,container:u}),a.a.createElement(ie.a,{name:"claims"},function(e){return e.fields.map(function(e,n){return a.a.createElement(Y.g,{key:n,name:"".concat(e,".right"),label:o.find(function(e){return e.id===t.claims[n].entity}).name,data:c})})}))))}})))}),ct=I()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(at),ot=Object(u.b)(function(e){return{roles:we(e)}},{save:Ie.l})(Ye),it=Object(pe.a)(function(e){return e.app.entities.permissions},function(e){return e.manage.roles.permissions.ids},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return be()(t.map(function(t){return e[t]}))});function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ut=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){lt(e,t,n[t])})}return e}({},je(e,t),{entities:de(e),permissions:it(e)})},{add:Ie.f})(_e),st=Object(u.b)(function(e,t){return ye(e,t)},{save:Ie.l})(tt),mt=Object(u.b)(function(e,t){return{role:je(e,t),entities:de(e),permissions:it(e)}},{save:Ie.l})(ct),ft=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(Le,{path:"/"},a.a.createElement(ot,{path:"/"}),a.a.createElement(ut,{path:"add"}),a.a.createElement(st,{path:":rid"},a.a.createElement(mt,{path:"claims"})),a.a.createElement(c.e,{from:":rid",to:"/manage/roles/:rid/claims",noThrow:!0})))},bt=n(18),pt=Object(u.b)(null,{fetch:bt.i})(function(e){var t=e.fetch,n=e.children;return Object(r.useEffect)(function(){t()},[]),n});function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var vt=function(e){var t=e.isArchived,n=e.handleArchive;return a.a.createElement(F.a,{onClick:n},a.a.createElement(x.a,{title:t?"restore group":"archive group"},t?a.a.createElement(f.t,null):a.a.createElement(f.f,null)))},gt=function(e){var t=e.id,n=Object(A.usePopupState)({variant:"popover",popupId:t});return a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a,dt({variant:"contained",color:"inherit"},Object(A.bindTrigger)(n)),a.a.createElement(f.r,null)),a.a.createElement(N.a,Object(A.bindMenu)(n),a.a.createElement(d.g,{to:"".concat(t,"/profile"),onClick:n.close},"Profile"),a.a.createElement(d.g,{to:"".concat(t,"/roles"),onClick:n.close},"Manage Roles"),a.a.createElement(d.g,{to:"".concat(t,"/roles"),onClick:n.close},"Reset Password"),a.a.createElement(d.g,{to:"".concat(t,"/roles"),onClick:n.close},"Archive")))},Et=function(e){var t=e.id,n=e.classes;return a.a.createElement(c.a,{to:"".concat(t)},a.a.createElement(S.a,{"aria-label":"Group",className:n.avatar,color:"secondary"},a.a.createElement(f.w,null)))},Ot=Object(r.memo)(function(e){var t=e.id,n=e.name,r=e.isArchived,o=void 0!==r&&r,i=(e.save,e.archive,e.classes);return a.a.createElement(O.a,{className:g()(o&&i.archived)},a.a.createElement(y.a,{avatar:a.a.createElement(Et,{id:t,classes:i}),action:a.a.createElement(gt,{id:t}),title:a.a.createElement(c.a,{to:"".concat(t),className:i.link},n," ")}),a.a.createElement(w.a,{disableActionSpacing:!0},a.a.createElement(vt,{handleArchive:function(){return console.log(t)},isArchived:o})))}),ht=I()(function(e){return{avatar:{backgroundColor:e.palette.secondary.main},archived:{opacity:.5},link:{textDecoration:"none",color:"inherit"}}})(Ot);function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var wt=Object(r.memo)(function(e){var t=e.groups,n=jt(e,["groups"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{parts:[{label:"Groups"}],actions:[{label:"Add Group",Icon:f.b,to:"add"}]}),a.a.createElement(p.a,{container:!0,spacing:24},t.groups.map(function(e){return a.a.createElement(p.a,{key:e.id,item:!0,xs:12,sm:6,md:4},a.a.createElement(ht,yt({},e,n)))})))}),Pt=_()(10)(Object(ee.a)({name:[Object(ee.c)()]})),St=I()(function(e){return{paper:{padding:3*e.spacing.unit,marginBottom:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.error,n=e.isSaving,r=e.add,c=e.classes,o=Object(Z.a)(r),i=o.handleSubmit,l=o.Dialog;return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{parts:[{label:"Groups",to:".."},{label:"Add Group"}]}),a.a.createElement(K.a,{className:c.paper},a.a.createElement(X.b,{onSubmit:i,validate:Pt,render:function(e){var t=e.handleSubmit,r=e.pristine;return a.a.createElement("form",{onSubmit:t,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.d,{name:"name",label:"Group Name",autoFocus:!0})),a.a.createElement(p.a,{container:!0,item:!0,xs:12,justify:"flex-end"},a.a.createElement(W.a,{type:"submit",variant:"contained",color:"secondary",disabled:r||n},"Add Group"))))}}),a.a.createElement(l,{error:t,message:"The group has been added"})))}));function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=I()(function(e){return{paper:{marginBottom:3*e.spacing.unit},card:{padding:3*e.spacing.unit}}})(Object(r.memo)(function(e){var t=e.gid,n=e.name,c=e.save,o=e.classes,i=e.children,l=function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){kt(e,t,n[t])})}return e}({id:t},e))},u=Object(r.createRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{parts:[{label:"Groups",to:".."},{label:n}]}),a.a.createElement(K.a,{className:o.paper},a.a.createElement("div",{ref:u,className:o.card},a.a.createElement(X.b,{onSubmit:l,initialValues:{name:n},subscription:{},mutators:{setFieldData:re.a},validate:Pt,render:function(e){var t=e.form;return a.a.createElement("form",{onSubmit:l,autoComplete:"off"},a.a.createElement(p.a,{container:!0,spacing:24},a.a.createElement(p.a,{item:!0,xs:12,sm:6},a.a.createElement(Y.d,{name:"name",label:"Group Name",autoFocus:!0}),a.a.createElement(Y.a,{setFieldData:t.mutators.setFieldData,save:l,container:u}))))}}))),a.a.createElement(d.i,{tabs:[{label:"Children",to:"groups"}]}),i)}));function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xt(e,t,n[t])})}return e}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=function(e){return e.app.entities.groups},Nt=function(e){return e.manage.groups.groups},At=Object(pe.a)(Ct,Nt,function(e,t){return t.gid},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Dt({},arguments.length>1?arguments[1]:void 0,e[arguments.length>2?arguments[2]:void 0])}),Rt=Object(pe.a)(Ct,Nt,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Dt({},t,{groups:be()(t.ids.map(function(t){return e[t]}))})}),It=Object(u.b)(function(e){return{groups:Rt(e)}},{save:bt.l})(wt);function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt=Object(u.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gt(e,t,n[t])})}return e}({},At(e,t))},{add:bt.f})(St),Vt=Object(u.b)(function(e,t){return At(e,t)},{save:bt.l})(Ft),Bt=function(e){return a.a.createElement("div",null,"Children ",e.uri)},Ut=function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(pt,{path:"/"},a.a.createElement(It,{path:"/"}),a.a.createElement(Tt,{path:"add"}),a.a.createElement(Vt,{path:":gid"},a.a.createElement(Bt,{path:"groups"})),a.a.createElement(c.e,{from:":gid",to:"/manage/groups/:gid/groups",noThrow:!0})))};t.default=Object(o.a)(function(){return a.a.createElement(c.f,{primary:!1},a.a.createElement(l,{path:"/"},a.a.createElement(Be,{path:"users/*"}),a.a.createElement(ft,{path:"roles/*"}),a.a.createElement(Ut,{path:"groups/*"})))})}}]);